INFO 09-14 15:36:36 llm_engine.py:170] Initializing an LLM engine (v0.5.0) with config: model='facebook/opt-6.7b', speculative_config=None, tokenizer='facebook/opt-6.7b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, rope_scaling=None, rope_theta=None, tokenizer_revision=None, trust_remote_code=False, dtype=torch.float16, max_seq_len=2048, download_dir=None, load_format=LoadFormat.AUTO, tensor_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=True, kv_cache_dtype=auto, quantization_param_path=None, device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='outlines'), seed=0, served_model_name=facebook/opt-6.7b)
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:36:38 multiproc_worker_utils.py:216] Worker ready; awaiting tasks
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:36:38 multiproc_worker_utils.py:216] Worker ready; awaiting tasks
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:36:39 multiproc_worker_utils.py:216] Worker ready; awaiting tasks
INFO 09-14 15:36:40 weight_utils.py:218] Using model weights format ['*.bin']
INFO 09-14 15:36:47 model_runner.py:214] Loading model weights took 12.4036 GB
INFO 09-14 15:36:47 distributed_gpu_executor.py:59] # GPU blocks: 778, # CPU blocks: 512
Pattern: azure-code-60-5
Dataset: azure-code
Destination: liquid

Azure pattern selected with trace code and sample target 60
Loadgen started!
0 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
1 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
2 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
3 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
4 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
5 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
7 received!
INFO:     127.0.0.1:57312 - "POST /v1/completions HTTP/1.1" 200 OK
6 received!
INFO:     127.0.0.1:57326 - "POST /v1/completions HTTP/1.1" 200 OK
8 received!
INFO:     127.0.0.1:57326 - "POST /v1/completions HTTP/1.1" 200 OK
9 received!
INFO:     127.0.0.1:57326 - "POST /v1/completions HTTP/1.1" 200 OK
10 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
11 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
12 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
13 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
14 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
15 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
16 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
17 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
18 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
19 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
20 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
21 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
22 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
23 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
24 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
25 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
26 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
27 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
28 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
29 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
30 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
31 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
32 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
33 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
34 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
35 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
36 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
37 received!
INFO:     127.0.0.1:43878 - "POST /v1/completions HTTP/1.1" 200 OK
38 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
39 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
40 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
41 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
43 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
42 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
44 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
46 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
45 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
47 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
48 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
49 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
50 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
51 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
52 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
53 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
54 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
55 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
56 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
57 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
58 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
60 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
59 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
61 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
62 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
63 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
65 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
64 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
67 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
66 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
68 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
69 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
70 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
71 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
72 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
73 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
74 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
75 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
76 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
77 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
78 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
79 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
80 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
81 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
82 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
83 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
85 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
84 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
86 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
87 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
88 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
89 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
91 received!
INFO:     127.0.0.1:36434 - "POST /v1/completions HTTP/1.1" 200 OK
90 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
92 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
93 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
94 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
95 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
97 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
96 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
98 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
99 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
100 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
101 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
102 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
103 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
104 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
105 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
106 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:40:32 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:40:32 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:40:32 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:40:32 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:40:32 custom_all_reduce_utils.py:180] reading GPU P2P access cache from /home/lrq/.config/vllm/gpu_p2p_access_cache_for_0,1,2,3.json
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:40:32 custom_all_reduce_utils.py:180] reading GPU P2P access cache from /home/lrq/.config/vllm/gpu_p2p_access_cache_for_0,1,2,3.json
INFO 09-14 15:40:32 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:40:32 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.013 GB, reserved space on GPU: 19.074 GB, free space: 3.787GB, frag space: 0.061GB
107 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
108 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
It takes: 0.28s to send model shards
After sending shards, there are 9.92GB remaining on GPU0
INFO 09-14 15:40:32 worker.py:152] send weights shards takes: 0.33s, sent out: 6.21GB, sent bw: 18.97GB/s
INFO 09-14 15:40:32 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.819 GB, reserved space on GPU: 12.945 GB, free space: 9.916GB, frag space: 0.126GB
109 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
110 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:40:32 cache_engine.py:159] send kvc shards takes: 0.09s, sent out: 3.04GB, sent bw: 32.95GB/s
INFO 09-14 15:40:32 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:40:32 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.804 GB, reserved space on GPU: 9.883 GB, free space: 12.978GB, frag space: 0.079GB
INFO 09-14 15:40:32 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #3243
111 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
112 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:40:32 worker.py:205] extend gpu in worker takes: 0.28s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.05s to init model weights
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.22s to recv shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes 0.00 to load shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:40:32 worker.py:205] extend gpu in worker takes: 0.29s
INFO 09-14 15:40:32 llm_engine.py:772] Finished liquid for 0 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.87s, update worker latency: 0.09s, liquid model weights latency: 0.33s, init mem latency: 0.00s, liquid kvc latency: 0.15s, extending gpu blocks latency: 0.29s, update blocks latency: 0.01s;, current mem info on GPU0: allocated space on GPU: 19.429 GB, reserved space on GPU: 19.508 GB, free space: 3.353GB, frag space: 0.079GB
113 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
114 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
115 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
118 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
116 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
119 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
117 received!
INFO:     127.0.0.1:56028 - "POST /v1/completions HTTP/1.1" 200 OK
120 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
121 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
122 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
123 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
124 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
125 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
126 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
127 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
128 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
129 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
130 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
131 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
132 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
133 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
134 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
135 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
136 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
137 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
138 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
140 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
139 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
141 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
142 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
143 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
144 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
145 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
146 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
147 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
148 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
149 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
150 received!
INFO:     127.0.0.1:36446 - "POST /v1/completions HTTP/1.1" 200 OK
151 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
152 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
153 received!
INFO:     127.0.0.1:56024 - "POST /v1/completions HTTP/1.1" 200 OK
154 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
155 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
156 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
157 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
158 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
159 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
160 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
161 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
162 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
163 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
164 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
165 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
166 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
167 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
168 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
169 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
170 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
171 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
172 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
173 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
174 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
175 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
176 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
177 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
178 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
179 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
180 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
181 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
182 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
183 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
184 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
185 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
186 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
187 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
189 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
188 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
190 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
191 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
192 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
193 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
194 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
195 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
196 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
197 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
199 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
198 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
200 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
201 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
202 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
203 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
204 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
205 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
206 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
207 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
208 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
209 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
210 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
211 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
212 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
213 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
214 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
215 received!
INFO:     127.0.0.1:38442 - "POST /v1/completions HTTP/1.1" 200 OK
216 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
217 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
218 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
219 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
220 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
221 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
222 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
223 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
224 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
225 received!
INFO:     127.0.0.1:45412 - "POST /v1/completions HTTP/1.1" 200 OK
226 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
227 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
228 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
229 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
230 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
231 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
232 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
233 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
234 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
235 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
236 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
237 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
238 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
239 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
240 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
241 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
242 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
243 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
244 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
245 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
246 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
247 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
248 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
249 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
250 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
251 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
252 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
253 received!
INFO:     127.0.0.1:45414 - "POST /v1/completions HTTP/1.1" 200 OK
254 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
256 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
255 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
257 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
258 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
259 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
260 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
261 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
262 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
263 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
264 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
265 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
266 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
267 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
268 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
269 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
270 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
271 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
272 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:06 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #2
INFO 09-14 15:41:06 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 19.421 GB, reserved space on GPU: 19.496 GB, free space: 3.248GB, frag space: 0.075GB
INFO 09-14 15:41:06 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.796 GB, reserved space on GPU: 9.871 GB, free space: 12.873GB, frag space: 0.075GB
INFO 09-14 15:41:06 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:41:06 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.796 GB, reserved space on GPU: 9.871 GB, free space: 12.873GB, frag space: 0.075GB
INFO 09-14 15:41:06 worker.py:165] Before appending weights shards, allocated space on GPU: 9.796 GB, reserved space on GPU: 9.871 GB, free space: 12.873GB, frag space: 0.075GB
273 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
275 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
277 received!
INFO:     127.0.0.1:45444 - "POST /v1/completions HTTP/1.1" 200 OK
276 received!
INFO:     127.0.0.1:45430 - "POST /v1/completions HTTP/1.1" 200 OK
274 received!
INFO:     127.0.0.1:45454 - "POST /v1/completions HTTP/1.1" 200 OK
278 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
279 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
280 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
281 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:06 worker.py:168] After recving weights shards, allocated space on GPU: 15.989 GB, reserved space on GPU: 16.002 GB, free space: 6.742GB, frag space: 0.013GB
282 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.38s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 19.14GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:06 worker.py:152] send weights shards takes: 0.42s, sent out: 6.19GB, sent bw: 14.83GB/s
INFO 09-14 15:41:06 worker.py:171] After appending weights shards, allocated space on GPU: 15.990 GB, reserved space on GPU: 16.230 GB, free space: 6.513GB, frag space: 0.241GB
INFO 09-14 15:41:06 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 15.990 GB, reserved space on GPU: 16.230 GB, free space: 6.513GB, frag space: 0.241GB
283 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
284 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:06 cache_engine.py:159] send kvc shards takes: 0.14s, sent out: 3.04GB, sent bw: 21.51GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:06 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:41:06 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.005 GB, reserved space on GPU: 19.293 GB, free space: 3.451GB, frag space: 0.288GB
INFO 09-14 15:41:06 llm_engine.py:772] Finished liquid for 1 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.74s, move and shrink latency: 0.05s, update worker latency: 0.00s, liquid model weights latency: 0.45s, init mem latency: 0.00s, liquid kvc latency: 0.25s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.005 GB, reserved space on GPU: 19.293 GB, free space: 3.451GB, frag space: 0.288GB
285 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
286 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
287 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
289 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
288 received!
INFO:     127.0.0.1:55856 - "POST /v1/completions HTTP/1.1" 200 OK
290 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
291 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
292 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
293 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
294 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
295 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
296 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
297 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
298 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
299 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
300 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
301 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
302 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
303 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
304 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
305 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
306 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
307 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
308 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
309 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
310 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
311 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
312 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
313 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
314 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
315 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
316 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
317 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
318 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
319 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:08 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:41:08 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:08 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:08 pynccl.py:65] vLLM is using nccl==2.20.5
320 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:08 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:41:08 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.029 GB, reserved space on GPU: 19.350 GB, free space: 3.316GB, frag space: 0.321GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:08 worker.py:165] Before appending weights shards, allocated space on GPU: 0.564 GB, reserved space on GPU: 0.600 GB, free space: 22.107GB, frag space: 0.035GB
322 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
321 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
323 received!
INFO:     127.0.0.1:45460 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:09 worker.py:168] After recving weights shards, allocated space on GPU: 6.757 GB, reserved space on GPU: 6.793 GB, free space: 15.914GB, frag space: 0.036GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:09 worker.py:171] After appending weights shards, allocated space on GPU: 6.757 GB, reserved space on GPU: 7.205 GB, free space: 15.502GB, frag space: 0.448GB
It takes: 0.22s to send model shards
After sending shards, there are 9.69GB remaining on GPU0
INFO 09-14 15:41:09 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 23.81GB/s
INFO 09-14 15:41:09 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.835 GB, reserved space on GPU: 12.971 GB, free space: 9.695GB, frag space: 0.136GB
324 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:09 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 29.85GB/s
325 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
326 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
327 received!
INFO 09-14 15:41:09 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:09 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.819 GB, reserved space on GPU: 9.908 GB, free space: 12.757GB, frag space: 0.089GB
328 received!
INFO 09-14 15:41:09 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #2321
INFO:     127.0.0.1:45476 - "POST /v1/completions HTTP/1.1" 200 OK
329 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
330 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
331 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
332 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:09 worker.py:205] extend gpu in worker takes: 0.21s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:09 worker.py:205] extend gpu in worker takes: 0.22s
INFO 09-14 15:41:09 llm_engine.py:772] Finished liquid for 2 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.68s, update worker latency: 0.05s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.22s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 15.823 GB, reserved space on GPU: 15.971 GB, free space: 6.695GB, frag space: 0.147GB
333 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
334 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
335 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
336 received!
INFO:     127.0.0.1:55844 - "POST /v1/completions HTTP/1.1" 200 OK
337 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
338 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
339 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
340 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
341 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
342 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
343 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
344 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
345 received!
INFO:     127.0.0.1:45456 - "POST /v1/completions HTTP/1.1" 200 OK
346 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
347 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
348 received!
INFO:     127.0.0.1:53902 - "POST /v1/completions HTTP/1.1" 200 OK
349 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
350 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
351 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
353 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
352 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
354 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
355 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
356 received!
INFO:     127.0.0.1:53886 - "POST /v1/completions HTTP/1.1" 200 OK
357 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
358 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
359 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
360 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
361 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
362 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
363 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
364 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
365 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
366 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
367 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
368 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
369 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
370 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
371 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
372 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
373 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
374 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
375 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
376 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
377 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
379 received!
INFO:     127.0.0.1:53884 - "POST /v1/completions HTTP/1.1" 200 OK
378 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:43 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #0
INFO 09-14 15:41:43 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 15.815 GB, reserved space on GPU: 15.971 GB, free space: 6.695GB, frag space: 0.155GB
INFO 09-14 15:41:43 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.812 GB, reserved space on GPU: 9.908 GB, free space: 12.757GB, frag space: 0.097GB
INFO 09-14 15:41:43 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:41:43 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.812 GB, reserved space on GPU: 9.908 GB, free space: 12.757GB, frag space: 0.097GB
INFO 09-14 15:41:43 worker.py:165] Before appending weights shards, allocated space on GPU: 9.812 GB, reserved space on GPU: 9.908 GB, free space: 12.757GB, frag space: 0.097GB
380 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:41:44 worker.py:168] After recving weights shards, allocated space on GPU: 16.004 GB, reserved space on GPU: 16.055 GB, free space: 6.611GB, frag space: 0.050GB
381 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.37s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 19.04GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:44 worker.py:152] send weights shards takes: 0.39s, sent out: 6.19GB, sent bw: 15.78GB/s
INFO 09-14 15:41:44 worker.py:171] After appending weights shards, allocated space on GPU: 16.005 GB, reserved space on GPU: 16.424 GB, free space: 6.242GB, frag space: 0.419GB
INFO 09-14 15:41:44 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.005 GB, reserved space on GPU: 16.424 GB, free space: 6.242GB, frag space: 0.419GB
382 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
383 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
384 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:44 cache_engine.py:159] send kvc shards takes: 0.17s, sent out: 3.04GB, sent bw: 18.25GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:41:44 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:41:44 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.021 GB, reserved space on GPU: 19.486 GB, free space: 3.179GB, frag space: 0.465GB
INFO 09-14 15:41:44 llm_engine.py:772] Finished liquid for 3 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.73s, move and shrink latency: 0.04s, update worker latency: 0.00s, liquid model weights latency: 0.43s, init mem latency: 0.00s, liquid kvc latency: 0.27s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.021 GB, reserved space on GPU: 19.486 GB, free space: 3.179GB, frag space: 0.465GB
385 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
386 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
387 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
388 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
389 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
390 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
391 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
392 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
393 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
394 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
395 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
396 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
397 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
398 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
399 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
400 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
401 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
402 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
403 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
404 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
405 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
406 received!
INFO:     127.0.0.1:45142 - "POST /v1/completions HTTP/1.1" 200 OK
407 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
408 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
409 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
410 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
411 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
412 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
413 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
414 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
415 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
416 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
417 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
418 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
419 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
420 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
421 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
422 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
423 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
424 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
425 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
426 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
427 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
428 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
429 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
430 received!
INFO:     127.0.0.1:40978 - "POST /v1/completions HTTP/1.1" 200 OK
431 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
432 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
433 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
434 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
435 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
436 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
437 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
438 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
439 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
440 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
441 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
442 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
443 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
444 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
445 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
446 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
447 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
448 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
449 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
450 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
451 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
452 received!
INFO:     127.0.0.1:54274 - "POST /v1/completions HTTP/1.1" 200 OK
453 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
454 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
455 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
456 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
457 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
458 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
459 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
460 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
461 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
462 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
463 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
464 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
465 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
466 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
467 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
468 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
470 received!
INFO:     127.0.0.1:54272 - "POST /v1/completions HTTP/1.1" 200 OK
469 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
471 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
472 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
473 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
474 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
475 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
476 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
477 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
478 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
479 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
480 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
481 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
482 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
483 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
484 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
485 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
486 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
487 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
489 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
488 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
490 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
491 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
492 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
493 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
494 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
495 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
496 received!
INFO:     127.0.0.1:55324 - "POST /v1/completions HTTP/1.1" 200 OK
497 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
498 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
499 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
500 received!
INFO:     127.0.0.1:55318 - "POST /v1/completions HTTP/1.1" 200 OK
501 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
502 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
503 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
504 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
505 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
506 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
507 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
508 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
509 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
510 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
511 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
512 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
513 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
514 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
515 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
516 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
517 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
518 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
519 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
520 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
521 received!
INFO:     127.0.0.1:48234 - "POST /v1/completions HTTP/1.1" 200 OK
522 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
523 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
524 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
525 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
526 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
527 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
528 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
529 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
530 received!
INFO:     127.0.0.1:48246 - "POST /v1/completions HTTP/1.1" 200 OK
531 received!
INFO:     127.0.0.1:44502 - "POST /v1/completions HTTP/1.1" 200 OK
532 received!
INFO:     127.0.0.1:44502 - "POST /v1/completions HTTP/1.1" 200 OK
533 received!
INFO:     127.0.0.1:44502 - "POST /v1/completions HTTP/1.1" 200 OK
534 received!
INFO:     127.0.0.1:44502 - "POST /v1/completions HTTP/1.1" 200 OK
535 received!
INFO:     127.0.0.1:44502 - "POST /v1/completions HTTP/1.1" 200 OK
536 received!
INFO:     127.0.0.1:44502 - "POST /v1/completions HTTP/1.1" 200 OK
537 received!
INFO:     127.0.0.1:39444 - "POST /v1/completions HTTP/1.1" 200 OK
539 received!
INFO:     127.0.0.1:39444 - "POST /v1/completions HTTP/1.1" 200 OK
538 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
540 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
541 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
542 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
543 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
544 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
545 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
546 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
547 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
548 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
549 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
550 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
551 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
552 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
553 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
554 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
555 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
556 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
557 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
558 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
559 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
560 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
561 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
562 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
563 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
564 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
565 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
566 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
567 received!
INFO:     127.0.0.1:39448 - "POST /v1/completions HTTP/1.1" 200 OK
568 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
569 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
570 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
571 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
572 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
573 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
574 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
575 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
577 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
576 received!
INFO:     127.0.0.1:56186 - "POST /v1/completions HTTP/1.1" 200 OK
578 received!
INFO:     127.0.0.1:56186 - "POST /v1/completions HTTP/1.1" 200 OK
579 received!
INFO:     127.0.0.1:56186 - "POST /v1/completions HTTP/1.1" 200 OK
580 received!
INFO:     127.0.0.1:56186 - "POST /v1/completions HTTP/1.1" 200 OK
581 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
582 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
583 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
584 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
585 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
586 received!
INFO:     127.0.0.1:56178 - "POST /v1/completions HTTP/1.1" 200 OK
587 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
588 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
589 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
590 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
592 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
591 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
593 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
594 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
595 received!
INFO:     127.0.0.1:53746 - "POST /v1/completions HTTP/1.1" 200 OK
596 received!
INFO:     127.0.0.1:53756 - "POST /v1/completions HTTP/1.1" 200 OK
597 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
598 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
599 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
600 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
601 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
602 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
603 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
604 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
605 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
606 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
607 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
608 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
609 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
610 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
611 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
612 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
613 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
614 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
615 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
616 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
617 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
618 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
619 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
620 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
621 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
622 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
623 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
624 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
625 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
627 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
626 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
628 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
629 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
630 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
631 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
632 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
633 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
634 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
635 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
636 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
637 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
638 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
639 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
640 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
641 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
642 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
643 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
644 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
645 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
646 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
647 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
648 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
649 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
650 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
651 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
652 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
653 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
654 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
655 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:44 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:46:44 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:44 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:44 pynccl.py:65] vLLM is using nccl==2.20.5
656 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:44 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:46:44 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.044 GB, reserved space on GPU: 19.486 GB, free space: 3.101GB, frag space: 0.442GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:44 worker.py:165] Before appending weights shards, allocated space on GPU: 0.580 GB, reserved space on GPU: 0.619 GB, free space: 22.009GB, frag space: 0.039GB
657 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
658 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
659 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
660 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:44 worker.py:168] After recving weights shards, allocated space on GPU: 6.773 GB, reserved space on GPU: 6.812 GB, free space: 15.816GB, frag space: 0.040GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:44 worker.py:171] After appending weights shards, allocated space on GPU: 6.773 GB, reserved space on GPU: 7.240 GB, free space: 15.388GB, frag space: 0.468GB
It takes: 0.22s to send model shards
After sending shards, there are 9.48GB remaining on GPU0
INFO 09-14 15:46:44 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 23.79GB/s
INFO 09-14 15:46:44 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.851 GB, reserved space on GPU: 13.107 GB, free space: 9.480GB, frag space: 0.257GB
INFO 09-14 15:46:45 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 30.32GB/s
661 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
662 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:45 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:46:45 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.835 GB, reserved space on GPU: 10.045 GB, free space: 12.543GB, frag space: 0.210GB
INFO 09-14 15:46:45 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #2292
663 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
664 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:45 worker.py:205] extend gpu in worker takes: 0.17s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:45 worker.py:205] extend gpu in worker takes: 0.19s
INFO 09-14 15:46:45 llm_engine.py:772] Finished liquid for 4 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.66s, update worker latency: 0.06s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.19s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 15.726 GB, reserved space on GPU: 15.982 GB, free space: 6.605GB, frag space: 0.257GB
666 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
665 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
667 received!
INFO:     127.0.0.1:42608 - "POST /v1/completions HTTP/1.1" 200 OK
668 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
669 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
670 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
671 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
672 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
673 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
674 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
675 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
676 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
677 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
678 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
679 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
681 received!
INFO:     127.0.0.1:53730 - "POST /v1/completions HTTP/1.1" 200 OK
680 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
682 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
683 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
684 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
685 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
686 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
687 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
688 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
689 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
690 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
691 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
692 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
693 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
694 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
695 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
696 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
697 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
698 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
700 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
699 received!
INFO:     127.0.0.1:42626 - "POST /v1/completions HTTP/1.1" 200 OK
701 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
702 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
703 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
704 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
705 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
706 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
707 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:47 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:46:47 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:47 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:47 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:46:47 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:46:47 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:46:47 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:46:47 pynccl.py:65] vLLM is using nccl==2.20.5
708 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
709 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
710 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 15:46:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 15:46:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
WARNING 09-14 15:46:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 15:46:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 15:46:47 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 15:46:47 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 15.718 GB, reserved space on GPU: 15.982 GB, free space: 6.379GB, frag space: 0.265GB
712 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
711 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
713 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
714 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
715 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
It takes: 0.33s to send model shards
After sending shards, there are 9.02GB remaining on GPU0
INFO 09-14 15:46:48 worker.py:152] send weights shards takes: 0.36s, sent out: 3.11GB, sent bw: 8.73GB/s
INFO 09-14 15:46:48 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.621 GB, reserved space on GPU: 13.287 GB, free space: 9.015GB, frag space: 0.666GB
716 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
717 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
718 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
720 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
719 received!
INFO:     127.0.0.1:42634 - "POST /v1/completions HTTP/1.1" 200 OK
721 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
722 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
723 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
724 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
725 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:48 cache_engine.py:159] send kvc shards takes: 0.24s, sent out: 4.48GB, sent bw: 18.63GB/s
INFO 09-14 15:46:48 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 15:46:48 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 8.168 GB, reserved space on GPU: 8.787 GB, free space: 13.515GB, frag space: 0.619GB
INFO 09-14 15:46:48 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 15:46:48 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 8.168 GB, reserved space on GPU: 8.787 GB, free space: 13.515GB, frag space: 0.619GB
726 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
727 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
728 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
729 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
730 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
731 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
732 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.32s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.44GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:48 worker.py:152] send weights shards takes: 0.34s, sent out: 3.11GB, sent bw: 9.07GB/s
INFO 09-14 15:46:48 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 8.168 GB, reserved space on GPU: 8.787 GB, free space: 13.515GB, frag space: 0.619GB
733 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
734 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
735 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
736 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
737 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
738 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:49 cache_engine.py:159] send kvc shards takes: 0.24s, sent out: 4.48GB, sent bw: 18.70GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:49 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 15:46:49 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 8.168 GB, reserved space on GPU: 8.787 GB, free space: 13.515GB, frag space: 0.619GB
INFO 09-14 15:46:49 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #7498
739 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
740 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
741 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
742 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
743 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
744 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
745 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:46:49 worker.py:205] extend gpu in worker takes: 0.31s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:46:49 worker.py:205] extend gpu in worker takes: 0.31s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.05s to init model weights
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.27s to recv shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes 0.01 to load shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:46:49 worker.py:205] extend gpu in worker takes: 0.31s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.05s to init model weights
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.26s to recv shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes 0.00 to load shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:46:49 worker.py:205] extend gpu in worker takes: 0.31s
INFO 09-14 15:46:49 llm_engine.py:772] Finished liquid for 5 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.90s, update worker latency: 0.87s, liquid model weights latency: 0.34s, init mem latency: 0.00s, liquid kvc latency: 0.30s, extending gpu blocks latency: 0.32s, update blocks latency: 0.08s;, current mem info on GPU0: allocated space on GPU: 18.313 GB, reserved space on GPU: 18.975 GB, free space: 3.328GB, frag space: 0.662GB
746 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
747 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
748 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
749 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
750 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
751 received!
INFO:     127.0.0.1:42650 - "POST /v1/completions HTTP/1.1" 200 OK
752 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
753 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
754 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
755 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
756 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
757 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
758 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
759 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
760 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
761 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
762 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
763 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
764 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
765 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
766 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
767 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
768 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
769 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
770 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
771 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
772 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
773 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
774 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
775 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
776 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
777 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
778 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
779 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
780 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
781 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
782 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
783 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
784 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
785 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
786 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
787 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
788 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
789 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
790 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
791 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
792 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
793 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
794 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
795 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
797 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
796 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
798 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
799 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
801 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
800 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
802 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
803 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
804 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
805 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
806 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
807 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
808 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
809 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
810 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
811 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
812 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
813 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
814 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
815 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
816 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
817 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
818 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
819 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
820 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
821 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
822 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
823 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
824 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
825 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
826 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
827 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
828 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
829 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
830 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
831 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
833 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
832 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
834 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
835 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
836 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
837 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
839 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
838 received!
INFO:     127.0.0.1:33642 - "POST /v1/completions HTTP/1.1" 200 OK
840 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
841 received!
INFO:     127.0.0.1:33642 - "POST /v1/completions HTTP/1.1" 200 OK
842 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
843 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
844 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
846 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
845 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
847 received!
INFO:     127.0.0.1:33646 - "POST /v1/completions HTTP/1.1" 200 OK
848 received!
INFO:     127.0.0.1:42624 - "POST /v1/completions HTTP/1.1" 200 OK
849 received!
INFO:     127.0.0.1:33654 - "POST /v1/completions HTTP/1.1" 200 OK
850 received!
INFO:     127.0.0.1:33654 - "POST /v1/completions HTTP/1.1" 200 OK
851 received!
INFO:     127.0.0.1:33654 - "POST /v1/completions HTTP/1.1" 200 OK
852 received!
INFO:     127.0.0.1:33654 - "POST /v1/completions HTTP/1.1" 200 OK
853 received!
INFO:     127.0.0.1:33654 - "POST /v1/completions HTTP/1.1" 200 OK
854 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
855 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
856 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
857 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
858 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
859 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
860 received!
INFO:     127.0.0.1:53738 - "POST /v1/completions HTTP/1.1" 200 OK
861 received!
INFO:     127.0.0.1:33654 - "POST /v1/completions HTTP/1.1" 200 OK
862 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
863 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
864 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
865 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
866 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
867 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
868 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
869 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
870 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
871 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
872 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
873 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
874 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
875 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
876 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
877 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
878 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
879 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
880 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
881 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
882 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
883 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
884 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
885 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
886 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
887 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
888 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
889 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
890 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
891 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
892 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
893 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
894 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
895 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
896 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
897 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
898 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
899 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
900 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
901 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
902 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
903 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
904 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
905 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
906 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
907 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
908 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
909 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
910 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
911 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
912 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
913 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
914 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
915 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
916 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
917 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
918 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:47:24 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:47:24 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:47:24 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:47:24 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:47:25 multiproc_gpu_executor.py:237] Shrink to: #2292, currently using blocks: #478
INFO 09-14 15:47:25 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 18.336 GB, reserved space on GPU: 18.975 GB, free space: 2.964GB, frag space: 0.638GB
INFO 09-14 15:47:25 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 8.192 GB, reserved space on GPU: 8.787 GB, free space: 13.152GB, frag space: 0.595GB
INFO 09-14 15:47:25 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 15:47:25 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 8.192 GB, reserved space on GPU: 8.787 GB, free space: 13.152GB, frag space: 0.595GB
INFO 09-14 15:47:25 worker.py:165] Before appending weights shards, allocated space on GPU: 8.192 GB, reserved space on GPU: 8.787 GB, free space: 13.152GB, frag space: 0.595GB
919 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
920 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:47:25 worker.py:168] After recving weights shards, allocated space on GPU: 11.288 GB, reserved space on GPU: 11.561 GB, free space: 10.359GB, frag space: 0.272GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.35s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.50GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:47:25 worker.py:152] send weights shards takes: 0.37s, sent out: 3.10GB, sent bw: 8.33GB/s
INFO 09-14 15:47:25 worker.py:171] After appending weights shards, allocated space on GPU: 11.288 GB, reserved space on GPU: 11.707 GB, free space: 10.213GB, frag space: 0.419GB
INFO 09-14 15:47:25 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 11.288 GB, reserved space on GPU: 11.707 GB, free space: 10.213GB, frag space: 0.419GB
921 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
922 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
923 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:47:25 cache_engine.py:159] send kvc shards takes: 0.31s, sent out: 4.48GB, sent bw: 14.44GB/s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:47:25 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
INFO 09-14 15:47:25 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 15.741 GB, reserved space on GPU: 16.207 GB, free space: 5.713GB, frag space: 0.466GB
INFO 09-14 15:47:25 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 15:47:25 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 15.741 GB, reserved space on GPU: 16.207 GB, free space: 5.713GB, frag space: 0.466GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:47:25 worker.py:165] Before appending weights shards, allocated space on GPU: 8.192 GB, reserved space on GPU: 8.408 GB, free space: 13.627GB, frag space: 0.216GB
924 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
925 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:47:26 worker.py:168] After recving weights shards, allocated space on GPU: 11.288 GB, reserved space on GPU: 11.541 GB, free space: 10.474GB, frag space: 0.253GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.24s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.50GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:47:26 worker.py:152] send weights shards takes: 0.26s, sent out: 3.10GB, sent bw: 11.75GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:47:26 worker.py:171] After appending weights shards, allocated space on GPU: 11.288 GB, reserved space on GPU: 11.434 GB, free space: 10.582GB, frag space: 0.145GB
INFO 09-14 15:47:26 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 15.741 GB, reserved space on GPU: 16.207 GB, free space: 5.713GB, frag space: 0.466GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:47:26 cache_engine.py:159] send kvc shards takes: 0.30s, sent out: 4.48GB, sent bw: 14.93GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:47:26 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
926 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:47:26 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 15.741 GB, reserved space on GPU: 16.207 GB, free space: 5.713GB, frag space: 0.466GB
INFO 09-14 15:47:26 llm_engine.py:772] Finished liquid for 6 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.68s, move and shrink latency: -1726325244.98s, update worker latency: 1726325245.96s, liquid model weights latency: 0.28s, init mem latency: 0.00s, liquid kvc latency: 0.42s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 15.741 GB, reserved space on GPU: 16.207 GB, free space: 5.713GB, frag space: 0.466GB
927 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
928 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
930 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
929 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
931 received!
INFO:     127.0.0.1:40278 - "POST /v1/completions HTTP/1.1" 200 OK
932 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
933 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
934 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
935 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
936 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
937 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
938 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
939 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
940 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
941 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
942 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
943 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
944 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
945 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
947 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
946 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
948 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
949 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
950 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
951 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
952 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
953 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
954 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
955 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
956 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
957 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
958 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
959 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
960 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
961 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
962 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
963 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
964 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
965 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
966 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
967 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
968 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
969 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
970 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
971 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
972 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
973 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
974 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
976 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
975 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
977 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
978 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
979 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
980 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
981 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
982 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
983 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
984 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
985 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
986 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
987 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
988 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
989 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
990 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
991 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
992 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
993 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
994 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
995 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
996 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
997 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
998 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
999 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1000 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1001 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1002 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1003 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1004 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1005 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1006 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1007 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1008 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1009 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1010 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1011 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1012 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1013 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1014 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1015 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1016 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1018 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1017 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1019 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1020 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1021 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1022 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1023 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1024 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1025 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1026 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1027 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1028 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1029 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1030 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1031 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1032 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1033 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1034 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1035 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1036 received!
INFO:     127.0.0.1:40274 - "POST /v1/completions HTTP/1.1" 200 OK
1037 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1038 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1039 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1040 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1041 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1042 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1043 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1044 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1045 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1046 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1047 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1048 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1049 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1050 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1051 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1052 received!
INFO:     127.0.0.1:59706 - "POST /v1/completions HTTP/1.1" 200 OK
1053 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1054 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1055 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1056 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1057 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1058 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1059 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1060 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1061 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1062 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1063 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1064 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1065 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1066 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1067 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1068 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1069 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1070 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1071 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1072 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1073 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1074 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1076 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1075 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1077 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1078 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1079 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1080 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1081 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1082 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1083 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1084 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1085 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1086 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1087 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1088 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1089 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1090 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1091 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1092 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1093 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1094 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1095 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1096 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1097 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1098 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1099 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1100 received!
INFO:     127.0.0.1:40990 - "POST /v1/completions HTTP/1.1" 200 OK
1101 received!
INFO:     127.0.0.1:40980 - "POST /v1/completions HTTP/1.1" 200 OK
1102 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1103 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1104 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1105 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1106 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1107 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1108 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1109 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1110 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1111 received!
INFO:     127.0.0.1:53000 - "POST /v1/completions HTTP/1.1" 200 OK
1112 received!
INFO:     127.0.0.1:53004 - "POST /v1/completions HTTP/1.1" 200 OK
1113 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1114 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1115 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1116 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1117 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1118 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1119 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1120 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1121 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1122 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1123 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1124 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1125 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1126 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1127 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1128 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1129 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1130 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1131 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1132 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1133 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1134 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1135 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1136 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1137 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1138 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1139 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1140 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1141 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1142 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1143 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1144 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1145 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1146 received!
INFO:     127.0.0.1:34926 - "POST /v1/completions HTTP/1.1" 200 OK
1147 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1148 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1149 received!
INFO:     127.0.0.1:34938 - "POST /v1/completions HTTP/1.1" 200 OK
1150 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1151 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:23 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #21
INFO 09-14 15:51:23 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 15.733 GB, reserved space on GPU: 16.207 GB, free space: 5.713GB, frag space: 0.474GB
1152 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:23 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.843 GB, reserved space on GPU: 10.270 GB, free space: 11.650GB, frag space: 0.427GB
INFO 09-14 15:51:23 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:51:23 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.843 GB, reserved space on GPU: 10.270 GB, free space: 11.650GB, frag space: 0.427GB
INFO 09-14 15:51:23 worker.py:165] Before appending weights shards, allocated space on GPU: 9.843 GB, reserved space on GPU: 10.270 GB, free space: 11.650GB, frag space: 0.427GB
INFO 09-14 15:51:24 worker.py:168] After recving weights shards, allocated space on GPU: 16.036 GB, reserved space on GPU: 16.197 GB, free space: 5.722GB, frag space: 0.162GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.34s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 18.21GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:24 worker.py:152] send weights shards takes: 0.37s, sent out: 6.19GB, sent bw: 16.63GB/s
1153 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1154 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1155 received!
INFO:     127.0.0.1:48488 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:24 worker.py:171] After appending weights shards, allocated space on GPU: 16.037 GB, reserved space on GPU: 16.633 GB, free space: 5.287GB, frag space: 0.596GB
INFO 09-14 15:51:24 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.037 GB, reserved space on GPU: 16.633 GB, free space: 5.287GB, frag space: 0.596GB
1156 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1157 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:24 cache_engine.py:159] send kvc shards takes: 0.14s, sent out: 3.04GB, sent bw: 21.19GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:24 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
1158 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:24 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.052 GB, reserved space on GPU: 19.695 GB, free space: 2.224GB, frag space: 0.643GB
INFO 09-14 15:51:24 llm_engine.py:772] Finished liquid for 7 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.81s, move and shrink latency: 0.05s, update worker latency: 0.00s, liquid model weights latency: 0.49s, init mem latency: 0.00s, liquid kvc latency: 0.26s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.052 GB, reserved space on GPU: 19.695 GB, free space: 2.224GB, frag space: 0.643GB
1159 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1160 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1161 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1162 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1163 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1164 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1165 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1166 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1167 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1168 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1169 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1170 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1171 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1172 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1173 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1174 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1175 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1176 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1177 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1179 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1178 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1180 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1181 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1182 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:30 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:51:30 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:30 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:30 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:51:30 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:51:30 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.076 GB, reserved space on GPU: 19.695 GB, free space: 2.144GB, frag space: 0.620GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:30 worker.py:165] Before appending weights shards, allocated space on GPU: 0.611 GB, reserved space on GPU: 0.678 GB, free space: 21.257GB, frag space: 0.067GB
1183 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1185 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1184 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1187 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1186 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1188 received!
INFO:     127.0.0.1:33696 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:30 worker.py:168] After recving weights shards, allocated space on GPU: 6.804 GB, reserved space on GPU: 6.840 GB, free space: 15.095GB, frag space: 0.036GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:30 worker.py:171] After appending weights shards, allocated space on GPU: 6.804 GB, reserved space on GPU: 7.252 GB, free space: 14.683GB, frag space: 0.448GB
It takes: 0.21s to send model shards
After sending shards, there are 8.25GB remaining on GPU0
INFO 09-14 15:51:30 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 24.14GB/s
INFO 09-14 15:51:30 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.882 GB, reserved space on GPU: 13.592 GB, free space: 8.248GB, frag space: 0.710GB
INFO 09-14 15:51:30 cache_engine.py:159] send kvc shards takes: 0.11s, sent out: 3.04GB, sent bw: 28.63GB/s
INFO 09-14 15:51:30 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:51:30 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.865 GB, reserved space on GPU: 10.338 GB, free space: 11.502GB, frag space: 0.473GB
1189 received!
INFO 09-14 15:51:30 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #2112
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1190 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1191 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:30 worker.py:205] extend gpu in worker takes: 0.19s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:30 worker.py:205] extend gpu in worker takes: 0.19s
INFO 09-14 15:51:30 llm_engine.py:772] Finished liquid for 8 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.66s, update worker latency: 0.06s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.20s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 15.054 GB, reserved space on GPU: 15.717 GB, free space: 6.123GB, frag space: 0.663GB
1192 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1193 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1194 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1195 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1196 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1197 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1198 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1200 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1199 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1201 received!
INFO:     127.0.0.1:33702 - "POST /v1/completions HTTP/1.1" 200 OK
1202 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1203 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1204 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1205 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1206 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1207 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1208 received!
INFO:     127.0.0.1:33704 - "POST /v1/completions HTTP/1.1" 200 OK
1209 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1210 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1211 received!
INFO:     127.0.0.1:33716 - "POST /v1/completions HTTP/1.1" 200 OK
1213 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1212 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1214 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1215 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1216 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1217 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1218 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1219 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1220 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1221 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1222 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1223 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1224 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1225 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1226 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1227 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1228 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1229 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1230 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1231 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1232 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1233 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1234 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:32 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:32 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:51:32 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:32 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:51:32 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:51:32 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:51:32 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:51:32 pynccl.py:65] vLLM is using nccl==2.20.5
1235 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1236 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1237 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1238 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
WARNING 09-14 15:51:33 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 15:51:33 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 15:51:33 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 15:51:33 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 15:51:33 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 15:51:33 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 15.046 GB, reserved space on GPU: 15.717 GB, free space: 5.896GB, frag space: 0.671GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:51:33 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.773GB, frag space: 0.014GB
1239 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1240 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:51:33 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 18.425GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:51:33 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 18.672GB, frag space: 0.019GB
It takes: 0.21s to send model shards
After sending shards, there are 9.00GB remaining on GPU0
INFO 09-14 15:51:33 worker.py:152] send weights shards takes: 0.23s, sent out: 3.10GB, sent bw: 13.34GB/s
INFO 09-14 15:51:33 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 11.950 GB, reserved space on GPU: 12.615 GB, free space: 8.998GB, frag space: 0.666GB
1241 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:33 cache_engine.py:159] send kvc shards takes: 0.25s, sent out: 4.12GB, sent bw: 16.72GB/s
INFO 09-14 15:51:33 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 15:51:33 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.825 GB, reserved space on GPU: 8.490 GB, free space: 13.123GB, frag space: 0.666GB
INFO 09-14 15:51:33 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 15:51:33 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.825 GB, reserved space on GPU: 8.490 GB, free space: 13.123GB, frag space: 0.666GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:51:33 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.773GB, frag space: 0.014GB
1242 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1243 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1244 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:51:33 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 18.425GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:51:33 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 18.672GB, frag space: 0.019GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.23s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.46GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:33 worker.py:152] send weights shards takes: 0.25s, sent out: 3.10GB, sent bw: 12.21GB/s
INFO 09-14 15:51:33 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 7.825 GB, reserved space on GPU: 8.490 GB, free space: 13.123GB, frag space: 0.666GB
1245 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1246 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1247 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:34 cache_engine.py:159] send kvc shards takes: 0.24s, sent out: 4.12GB, sent bw: 16.88GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:34 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 15:51:34 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.825 GB, reserved space on GPU: 8.490 GB, free space: 13.123GB, frag space: 0.666GB
INFO 09-14 15:51:34 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #5734
1248 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1249 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1250 received!
INFO:     127.0.0.1:33720 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:51:34 worker.py:205] extend gpu in worker takes: 0.18s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:51:34 worker.py:205] extend gpu in worker takes: 0.18s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:51:34 worker.py:205] extend gpu in worker takes: 0.19s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:51:34 worker.py:205] extend gpu in worker takes: 0.19s
INFO 09-14 15:51:34 llm_engine.py:772] Finished liquid for 9 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.47s, update worker latency: 0.73s, liquid model weights latency: 0.25s, init mem latency: 0.00s, liquid kvc latency: 0.28s, extending gpu blocks latency: 0.19s, update blocks latency: 0.01s;, current mem info on GPU0: allocated space on GPU: 14.899 GB, reserved space on GPU: 15.615 GB, free space: 5.998GB, frag space: 0.716GB
1251 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1252 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1253 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1254 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1255 received!
INFO:     127.0.0.1:33726 - "POST /v1/completions HTTP/1.1" 200 OK
1257 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1256 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1258 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1259 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1260 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1262 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1261 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1263 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1264 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1265 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1266 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1267 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1268 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1269 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1270 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1272 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1271 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1273 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1275 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1274 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1276 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1277 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1278 received!
INFO:     127.0.0.1:33736 - "POST /v1/completions HTTP/1.1" 200 OK
1279 received!
INFO:     127.0.0.1:33746 - "POST /v1/completions HTTP/1.1" 200 OK
1280 received!
INFO:     127.0.0.1:33750 - "POST /v1/completions HTTP/1.1" 200 OK
1281 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1282 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1283 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1284 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1285 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1286 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1287 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1288 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1290 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1289 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1291 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1292 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1294 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1293 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1295 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1296 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1297 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1298 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1299 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1300 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1301 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1302 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1304 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1303 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1305 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1306 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1308 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1307 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1309 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1310 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1311 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1312 received!
INFO:     127.0.0.1:48476 - "POST /v1/completions HTTP/1.1" 200 OK
1313 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1314 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1316 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1315 received!
INFO:     127.0.0.1:33776 - "POST /v1/completions HTTP/1.1" 200 OK
1317 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1318 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1319 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1320 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1321 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1322 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1326 received!
INFO:     127.0.0.1:33762 - "POST /v1/completions HTTP/1.1" 200 OK
1323 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1324 received!
INFO:     127.0.0.1:33808 - "POST /v1/completions HTTP/1.1" 200 OK
1325 received!
INFO:     127.0.0.1:33818 - "POST /v1/completions HTTP/1.1" 200 OK
1327 received!
INFO:     127.0.0.1:33820 - "POST /v1/completions HTTP/1.1" 200 OK
1328 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1329 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1330 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1331 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1332 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1333 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1334 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1335 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1336 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1337 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1338 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1339 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1340 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1341 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1342 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1343 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1344 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1345 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1346 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1347 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1348 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1349 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1350 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1351 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1352 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1353 received!
INFO:     127.0.0.1:33832 - "POST /v1/completions HTTP/1.1" 200 OK
1354 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1356 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1355 received!
INFO:     127.0.0.1:33838 - "POST /v1/completions HTTP/1.1" 200 OK
1357 received!
INFO:     127.0.0.1:33850 - "POST /v1/completions HTTP/1.1" 200 OK
1358 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1359 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1361 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1360 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1362 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1363 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1364 received!
INFO:     127.0.0.1:33852 - "POST /v1/completions HTTP/1.1" 200 OK
1365 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1367 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1366 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1368 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1369 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1370 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1371 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1372 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1373 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1374 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1375 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1379 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1376 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1377 received!
INFO:     127.0.0.1:33864 - "POST /v1/completions HTTP/1.1" 200 OK
1378 received!
INFO:     127.0.0.1:33876 - "POST /v1/completions HTTP/1.1" 200 OK
1380 received!
INFO:     127.0.0.1:33888 - "POST /v1/completions HTTP/1.1" 200 OK
1381 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1382 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1383 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1384 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1385 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1386 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1387 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1388 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1389 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1390 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1391 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1392 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1393 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1394 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1395 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1397 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1396 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1398 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1399 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1400 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
WARNING 09-14 15:51:38 scheduler.py:1100] Sequence group 2229 is preempted by PreemptionMode.RECOMPUTE mode because there is not enough KV cache space. This can affect the end-to-end performance. Increase gpu_memory_utilization or tensor_parallel_size to provide more KV cache memory. total_num_cumulative_preemption=1
1401 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1402 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1403 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1404 received!
INFO:     127.0.0.1:33898 - "POST /v1/completions HTTP/1.1" 200 OK
1405 received!
INFO:     127.0.0.1:33910 - "POST /v1/completions HTTP/1.1" 200 OK
1406 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1407 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1408 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1409 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1410 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1411 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1412 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1413 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1414 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1415 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1416 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1417 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1419 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1418 received!
INFO:     127.0.0.1:33926 - "POST /v1/completions HTTP/1.1" 200 OK
1420 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1421 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1422 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1424 received!
INFO:     127.0.0.1:48462 - "POST /v1/completions HTTP/1.1" 200 OK
1423 received!
INFO:     127.0.0.1:33930 - "POST /v1/completions HTTP/1.1" 200 OK
1425 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1426 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1427 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1428 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1429 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1431 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1430 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1433 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1432 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1434 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1435 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1436 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1437 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1438 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1439 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1440 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1441 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1442 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1443 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1444 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1445 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1446 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1447 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1448 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1449 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1450 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1451 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1452 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1453 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1454 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1456 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1455 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1457 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1458 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1460 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1459 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1461 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1462 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1463 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1464 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1465 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1466 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1467 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1468 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1469 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1470 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1472 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1471 received!
INFO:     127.0.0.1:60938 - "POST /v1/completions HTTP/1.1" 200 OK
1473 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1474 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1475 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1476 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1477 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1478 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1479 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1480 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1481 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1482 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1483 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1484 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1485 received!
INFO:     127.0.0.1:33940 - "POST /v1/completions HTTP/1.1" 200 OK
1486 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1487 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1488 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1489 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1490 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1491 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1492 received!
INFO:     127.0.0.1:33792 - "POST /v1/completions HTTP/1.1" 200 OK
1493 received!
INFO:     127.0.0.1:60942 - "POST /v1/completions HTTP/1.1" 200 OK
1494 received!
INFO:     127.0.0.1:60942 - "POST /v1/completions HTTP/1.1" 200 OK
1495 received!
INFO:     127.0.0.1:60942 - "POST /v1/completions HTTP/1.1" 200 OK
1496 received!
INFO:     127.0.0.1:60942 - "POST /v1/completions HTTP/1.1" 200 OK
1497 received!
INFO:     127.0.0.1:60942 - "POST /v1/completions HTTP/1.1" 200 OK
1498 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1499 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1500 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1501 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1502 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1503 received!
INFO:     127.0.0.1:50226 - "POST /v1/completions HTTP/1.1" 200 OK
1504 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1505 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1506 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1507 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1509 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1508 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1510 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1511 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1512 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1513 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1514 received!
INFO:     127.0.0.1:50242 - "POST /v1/completions HTTP/1.1" 200 OK
1515 received!
INFO:     127.0.0.1:50252 - "POST /v1/completions HTTP/1.1" 200 OK
1517 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1516 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1518 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1519 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1520 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1521 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1522 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1523 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1524 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1525 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1526 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1527 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1528 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1529 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1530 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1532 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1531 received!
INFO:     127.0.0.1:50254 - "POST /v1/completions HTTP/1.1" 200 OK
1533 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1534 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1535 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1537 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1536 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1538 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1539 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1540 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1541 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:17 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:17 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:52:17 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:17 pynccl.py:65] vLLM is using nccl==2.20.5
1542 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:17 multiproc_gpu_executor.py:237] Shrink to: #2112, currently using blocks: #86
INFO 09-14 15:52:17 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 14.922 GB, reserved space on GPU: 15.615 GB, free space: 5.920GB, frag space: 0.693GB
INFO 09-14 15:52:17 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 7.848 GB, reserved space on GPU: 8.490 GB, free space: 13.045GB, frag space: 0.642GB
INFO 09-14 15:52:17 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 15:52:17 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.848 GB, reserved space on GPU: 8.490 GB, free space: 13.045GB, frag space: 0.642GB
INFO 09-14 15:52:17 worker.py:165] Before appending weights shards, allocated space on GPU: 7.848 GB, reserved space on GPU: 8.490 GB, free space: 13.045GB, frag space: 0.642GB
1543 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1544 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1545 received!
INFO:     127.0.0.1:50216 - "POST /v1/completions HTTP/1.1" 200 OK
1546 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
1547 received!
INFO:     127.0.0.1:36462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:17 worker.py:168] After recving weights shards, allocated space on GPU: 10.944 GB, reserved space on GPU: 11.213 GB, free space: 10.322GB, frag space: 0.269GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.33s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.65GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:52:17 worker.py:152] send weights shards takes: 0.35s, sent out: 3.10GB, sent bw: 8.84GB/s
INFO 09-14 15:52:17 worker.py:171] After appending weights shards, allocated space on GPU: 10.944 GB, reserved space on GPU: 11.520 GB, free space: 10.015GB, frag space: 0.575GB
INFO 09-14 15:52:17 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.944 GB, reserved space on GPU: 11.520 GB, free space: 10.015GB, frag space: 0.575GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:52:17 cache_engine.py:159] send kvc shards takes: 0.28s, sent out: 4.12GB, sent bw: 14.64GB/s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:52:17 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
INFO 09-14 15:52:18 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 15.069 GB, reserved space on GPU: 15.645 GB, free space: 5.890GB, frag space: 0.575GB
INFO 09-14 15:52:18 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 15:52:18 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 15.069 GB, reserved space on GPU: 15.645 GB, free space: 5.890GB, frag space: 0.575GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:18 worker.py:165] Before appending weights shards, allocated space on GPU: 7.848 GB, reserved space on GPU: 8.123 GB, free space: 13.507GB, frag space: 0.275GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:18 worker.py:168] After recving weights shards, allocated space on GPU: 10.944 GB, reserved space on GPU: 11.217 GB, free space: 10.414GB, frag space: 0.272GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.23s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.65GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:52:18 worker.py:152] send weights shards takes: 0.25s, sent out: 3.10GB, sent bw: 12.26GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:18 worker.py:171] After appending weights shards, allocated space on GPU: 10.944 GB, reserved space on GPU: 11.189 GB, free space: 10.441GB, frag space: 0.245GB
INFO 09-14 15:52:18 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 15.069 GB, reserved space on GPU: 15.645 GB, free space: 5.890GB, frag space: 0.575GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:52:18 cache_engine.py:159] send kvc shards takes: 0.27s, sent out: 4.12GB, sent bw: 15.16GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:52:18 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
INFO 09-14 15:52:18 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 15.069 GB, reserved space on GPU: 15.645 GB, free space: 5.890GB, frag space: 0.575GB
INFO 09-14 15:52:18 llm_engine.py:772] Finished liquid for 10 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.58s, move and shrink latency: -1726325537.07s, update worker latency: 1726325538.02s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.36s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 15.069 GB, reserved space on GPU: 15.645 GB, free space: 5.890GB, frag space: 0.575GB
INFO 09-14 15:52:18 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #170
INFO 09-14 15:52:18 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 15.062 GB, reserved space on GPU: 15.645 GB, free space: 5.890GB, frag space: 0.583GB
INFO 09-14 15:52:18 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.874 GB, reserved space on GPU: 10.457 GB, free space: 11.078GB, frag space: 0.583GB
INFO 09-14 15:52:18 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:52:18 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.874 GB, reserved space on GPU: 10.457 GB, free space: 11.078GB, frag space: 0.583GB
INFO 09-14 15:52:18 worker.py:165] Before appending weights shards, allocated space on GPU: 9.874 GB, reserved space on GPU: 10.457 GB, free space: 11.078GB, frag space: 0.583GB
INFO 09-14 15:52:19 worker.py:168] After recving weights shards, allocated space on GPU: 16.067 GB, reserved space on GPU: 16.260 GB, free space: 5.275GB, frag space: 0.193GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.32s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 17.77GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:19 worker.py:152] send weights shards takes: 0.35s, sent out: 6.19GB, sent bw: 17.91GB/s
INFO 09-14 15:52:19 worker.py:171] After appending weights shards, allocated space on GPU: 16.068 GB, reserved space on GPU: 16.709 GB, free space: 4.826GB, frag space: 0.641GB
INFO 09-14 15:52:19 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.068 GB, reserved space on GPU: 16.709 GB, free space: 4.826GB, frag space: 0.641GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:19 cache_engine.py:159] send kvc shards takes: 0.15s, sent out: 3.04GB, sent bw: 20.86GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:19 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:52:19 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.083 GB, reserved space on GPU: 19.771 GB, free space: 1.763GB, frag space: 0.688GB
INFO 09-14 15:52:19 llm_engine.py:772] Finished liquid for 11 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.84s, move and shrink latency: 0.06s, update worker latency: 0.00s, liquid model weights latency: 0.49s, init mem latency: 0.00s, liquid kvc latency: 0.29s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.083 GB, reserved space on GPU: 19.771 GB, free space: 1.763GB, frag space: 0.688GB
1548 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1549 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1551 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1550 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1552 received!
INFO:     127.0.0.1:55622 - "POST /v1/completions HTTP/1.1" 200 OK
1553 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1554 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1555 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1556 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1557 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1558 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1559 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1560 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1561 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1562 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1563 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1564 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1565 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1566 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1567 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1568 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1569 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1570 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1571 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1572 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1573 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1574 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1575 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1576 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1577 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1578 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1579 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1580 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1581 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1582 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1583 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1584 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1585 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1586 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1587 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1588 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1589 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1590 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1591 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1592 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1593 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1594 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1595 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1596 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1597 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1598 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:32 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:52:32 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:32 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:32 pynccl.py:65] vLLM is using nccl==2.20.5
1599 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1600 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:32 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:52:32 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.107 GB, reserved space on GPU: 19.771 GB, free space: 1.685GB, frag space: 0.665GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:32 worker.py:165] Before appending weights shards, allocated space on GPU: 0.642 GB, reserved space on GPU: 0.803 GB, free space: 20.750GB, frag space: 0.160GB
1601 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1602 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1603 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:32 worker.py:168] After recving weights shards, allocated space on GPU: 6.835 GB, reserved space on GPU: 6.887 GB, free space: 14.666GB, frag space: 0.052GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:32 worker.py:171] After appending weights shards, allocated space on GPU: 6.835 GB, reserved space on GPU: 7.314 GB, free space: 14.238GB, frag space: 0.479GB
It takes: 0.21s to send model shards
After sending shards, there are 7.78GB remaining on GPU0
INFO 09-14 15:52:32 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 24.02GB/s
INFO 09-14 15:52:32 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.913 GB, reserved space on GPU: 13.674 GB, free space: 7.783GB, frag space: 0.761GB
1604 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1605 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:32 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 30.97GB/s
1606 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:52:32 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:52:32 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.897 GB, reserved space on GPU: 10.516 GB, free space: 10.941GB, frag space: 0.619GB
INFO 09-14 15:52:32 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #1998
1607 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1608 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:52:32 worker.py:205] extend gpu in worker takes: 0.20s
INFO 09-14 15:52:32 worker.py:205] extend gpu in worker takes: 0.20s
INFO 09-14 15:52:32 llm_engine.py:772] Finished liquid for 12 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.66s, update worker latency: 0.06s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.20s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 14.648 GB, reserved space on GPU: 15.361 GB, free space: 6.095GB, frag space: 0.714GB
1610 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1611 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1613 received!
INFO:     127.0.0.1:55606 - "POST /v1/completions HTTP/1.1" 200 OK
1609 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1612 received!
INFO:     127.0.0.1:57982 - "POST /v1/completions HTTP/1.1" 200 OK
1614 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1615 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1616 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1617 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1618 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1619 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1620 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1621 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1622 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1623 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1624 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1625 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1626 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1627 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1628 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1629 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1630 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1631 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1632 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1633 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1634 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1635 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1636 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1637 received!
INFO:     127.0.0.1:57994 - "POST /v1/completions HTTP/1.1" 200 OK
1638 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1639 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1640 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1641 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1642 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1643 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1644 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1645 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1647 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1646 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1648 received!
INFO:     127.0.0.1:57996 - "POST /v1/completions HTTP/1.1" 200 OK
1650 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1649 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1651 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1652 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1653 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1654 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1655 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1656 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1657 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1658 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1659 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1660 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1661 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1662 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1663 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1664 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1665 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1666 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1667 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1668 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1669 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1670 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1671 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1672 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1673 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1674 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1675 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1676 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1677 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1678 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1679 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1680 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1681 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1682 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1683 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1684 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1685 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1686 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1687 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1688 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1689 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1690 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1692 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1691 received!
INFO:     127.0.0.1:39224 - "POST /v1/completions HTTP/1.1" 200 OK
1693 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1694 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1696 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1695 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1698 received!
INFO:     127.0.0.1:57970 - "POST /v1/completions HTTP/1.1" 200 OK
1697 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1699 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1700 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1701 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1702 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1703 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1704 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1705 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1706 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1707 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1708 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1709 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1710 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1711 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1712 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1713 received!
INFO:     127.0.0.1:55612 - "POST /v1/completions HTTP/1.1" 200 OK
1714 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:07 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #84
INFO 09-14 15:55:07 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 14.640 GB, reserved space on GPU: 15.361 GB, free space: 6.095GB, frag space: 0.722GB
1715 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1716 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:07 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.889 GB, reserved space on GPU: 10.516 GB, free space: 10.941GB, frag space: 0.627GB
INFO 09-14 15:55:07 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:55:07 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.889 GB, reserved space on GPU: 10.516 GB, free space: 10.941GB, frag space: 0.627GB
INFO 09-14 15:55:07 worker.py:165] Before appending weights shards, allocated space on GPU: 9.889 GB, reserved space on GPU: 10.516 GB, free space: 10.941GB, frag space: 0.627GB
1717 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:07 worker.py:168] After recving weights shards, allocated space on GPU: 16.082 GB, reserved space on GPU: 16.162 GB, free space: 5.295GB, frag space: 0.080GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.32s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 17.69GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:07 worker.py:152] send weights shards takes: 0.34s, sent out: 6.19GB, sent bw: 18.10GB/s
1718 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:07 worker.py:171] After appending weights shards, allocated space on GPU: 16.083 GB, reserved space on GPU: 16.500 GB, free space: 4.957GB, frag space: 0.417GB
INFO 09-14 15:55:07 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.083 GB, reserved space on GPU: 16.500 GB, free space: 4.957GB, frag space: 0.417GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:08 cache_engine.py:159] send kvc shards takes: 0.16s, sent out: 3.04GB, sent bw: 19.46GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:08 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:55:08 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.099 GB, reserved space on GPU: 19.658 GB, free space: 1.798GB, frag space: 0.559GB
INFO 09-14 15:55:08 llm_engine.py:772] Finished liquid for 13 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.75s, move and shrink latency: 0.04s, update worker latency: 0.00s, liquid model weights latency: 0.40s, init mem latency: 0.00s, liquid kvc latency: 0.30s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.099 GB, reserved space on GPU: 19.658 GB, free space: 1.798GB, frag space: 0.559GB
1719 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1720 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1721 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1722 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1723 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1724 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1725 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1726 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1727 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1728 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1729 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1731 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1730 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1732 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1733 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1734 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1735 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1736 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1737 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1738 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1739 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1740 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1741 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1742 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1743 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1744 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1745 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1746 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1747 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1748 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1749 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1750 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:20 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:55:20 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:20 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:20 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:55:20 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:55:20 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.122 GB, reserved space on GPU: 19.658 GB, free space: 1.720GB, frag space: 0.536GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:20 worker.py:165] Before appending weights shards, allocated space on GPU: 0.658 GB, reserved space on GPU: 0.803 GB, free space: 20.672GB, frag space: 0.145GB
1751 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1752 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1753 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1754 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:21 worker.py:168] After recving weights shards, allocated space on GPU: 6.851 GB, reserved space on GPU: 6.902 GB, free space: 14.572GB, frag space: 0.052GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:21 worker.py:171] After appending weights shards, allocated space on GPU: 6.851 GB, reserved space on GPU: 7.330 GB, free space: 14.144GB, frag space: 0.479GB
It takes: 0.21s to send model shards
After sending shards, there are 7.36GB remaining on GPU0
INFO 09-14 15:55:21 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 24.02GB/s
INFO 09-14 15:55:21 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.929 GB, reserved space on GPU: 14.014 GB, free space: 7.365GB, frag space: 1.085GB
1755 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:21 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 29.59GB/s
INFO 09-14 15:55:21 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:55:21 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.912 GB, reserved space on GPU: 10.760 GB, free space: 10.619GB, frag space: 0.848GB
INFO 09-14 15:55:21 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #1974
1756 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1757 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1758 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1759 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1760 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1761 received!
INFO:     127.0.0.1:33212 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:21 worker.py:205] extend gpu in worker takes: 0.17s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:21 worker.py:205] extend gpu in worker takes: 0.19s
INFO 09-14 15:55:21 llm_engine.py:772] Finished liquid for 14 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.65s, update worker latency: 0.06s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.19s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 14.562 GB, reserved space on GPU: 15.639 GB, free space: 5.740GB, frag space: 1.077GB
1762 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1763 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1764 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1765 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1766 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1767 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1768 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1770 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1769 received!
INFO:     127.0.0.1:33222 - "POST /v1/completions HTTP/1.1" 200 OK
1771 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1772 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1773 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1774 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1775 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:23 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:55:23 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:55:23 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:55:23 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:55:23 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:55:23 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:23 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:23 pynccl.py:65] vLLM is using nccl==2.20.5
1776 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1777 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 15:55:23 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 15:55:23 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 15:55:23 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
WARNING 09-14 15:55:23 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 15:55:23 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 15:55:23 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 14.554 GB, reserved space on GPU: 15.639 GB, free space: 5.513GB, frag space: 1.085GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:55:23 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.547GB, frag space: 0.014GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:55:23 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 18.199GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:55:23 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 18.445GB, frag space: 0.019GB
It takes: 0.21s to send model shards
After sending shards, there are 9.00GB remaining on GPU0
INFO 09-14 15:55:23 worker.py:152] send weights shards takes: 0.23s, sent out: 3.10GB, sent bw: 13.27GB/s
INFO 09-14 15:55:23 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 11.457 GB, reserved space on GPU: 12.152 GB, free space: 9.000GB, frag space: 0.695GB
1778 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1779 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:55:24 cache_engine.py:159] send kvc shards takes: 0.23s, sent out: 3.86GB, sent bw: 17.02GB/s
INFO 09-14 15:55:24 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 15:55:24 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.621 GB, reserved space on GPU: 8.156 GB, free space: 12.996GB, frag space: 0.535GB
INFO 09-14 15:55:24 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 15:55:24 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.621 GB, reserved space on GPU: 8.156 GB, free space: 12.996GB, frag space: 0.535GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:55:24 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.547GB, frag space: 0.014GB
1780 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1781 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:55:24 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 18.199GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:55:24 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 18.445GB, frag space: 0.019GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.23s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.50GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:24 worker.py:152] send weights shards takes: 0.25s, sent out: 3.10GB, sent bw: 12.20GB/s
INFO 09-14 15:55:24 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 7.621 GB, reserved space on GPU: 8.156 GB, free space: 12.996GB, frag space: 0.535GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:24 cache_engine.py:159] send kvc shards takes: 0.23s, sent out: 3.86GB, sent bw: 17.08GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:24 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 15:55:24 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.621 GB, reserved space on GPU: 8.156 GB, free space: 12.996GB, frag space: 0.535GB
INFO 09-14 15:55:24 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #5736
INFO 09-14 15:55:24 worker.py:205] extend gpu in worker takes: 0.13s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:55:24 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:55:24 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:55:24 worker.py:205] extend gpu in worker takes: 0.14s
INFO 09-14 15:55:24 llm_engine.py:772] Finished liquid for 15 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.36s, update worker latency: 0.69s, liquid model weights latency: 0.25s, init mem latency: 0.00s, liquid kvc latency: 0.27s, extending gpu blocks latency: 0.14s, update blocks latency: 0.01s;, current mem info on GPU0: allocated space on GPU: 14.950 GB, reserved space on GPU: 15.652 GB, free space: 5.500GB, frag space: 0.703GB
1782 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1783 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1784 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1785 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1786 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1787 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1788 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1789 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1790 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1791 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1792 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1793 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1794 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1795 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1796 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1797 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1800 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1798 received!
INFO:     127.0.0.1:33238 - "POST /v1/completions HTTP/1.1" 200 OK
1799 received!
INFO:     127.0.0.1:33240 - "POST /v1/completions HTTP/1.1" 200 OK
1801 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1802 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1803 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1804 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1805 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1806 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1807 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1808 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1809 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1810 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1811 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1812 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1813 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1814 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1815 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1816 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1817 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1818 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1819 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1820 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1821 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1822 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1823 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1824 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1825 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1826 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1827 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1828 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1829 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1830 received!
INFO:     127.0.0.1:51018 - "POST /v1/completions HTTP/1.1" 200 OK
1831 received!
INFO:     127.0.0.1:60796 - "POST /v1/completions HTTP/1.1" 200 OK
1832 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1833 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1834 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1835 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1836 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1837 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1838 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1839 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1840 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1841 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1842 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1843 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1844 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1845 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1846 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1847 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1848 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1849 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1850 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1851 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1852 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1853 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1854 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1855 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1856 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1857 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1858 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1859 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1860 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1861 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1862 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1863 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1864 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1865 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1866 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1867 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1868 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1869 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1870 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1871 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1872 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1873 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1874 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1876 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1875 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1877 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1878 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1879 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1880 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1881 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1882 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1883 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1884 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1885 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1887 received!
INFO:     127.0.0.1:33046 - "POST /v1/completions HTTP/1.1" 200 OK
1886 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1888 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1889 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1890 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1891 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1892 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1893 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1894 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1895 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1896 received!
INFO:     127.0.0.1:43462 - "POST /v1/completions HTTP/1.1" 200 OK
1897 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:02 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:56:02 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:02 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:02 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:56:02 multiproc_gpu_executor.py:237] Shrink to: #1974, currently using blocks: #0
INFO 09-14 15:56:02 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 14.973 GB, reserved space on GPU: 15.652 GB, free space: 5.422GB, frag space: 0.679GB
1898 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1900 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1899 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1901 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1902 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:02 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 7.644 GB, reserved space on GPU: 8.156 GB, free space: 12.918GB, frag space: 0.512GB
INFO 09-14 15:56:02 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 15:56:02 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.644 GB, reserved space on GPU: 8.156 GB, free space: 12.918GB, frag space: 0.512GB
INFO 09-14 15:56:02 worker.py:165] Before appending weights shards, allocated space on GPU: 7.644 GB, reserved space on GPU: 8.156 GB, free space: 12.918GB, frag space: 0.512GB
1903 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1904 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1905 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1906 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:03 worker.py:168] After recving weights shards, allocated space on GPU: 10.741 GB, reserved space on GPU: 11.039 GB, free space: 10.035GB, frag space: 0.298GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.34s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.67GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:03 worker.py:152] send weights shards takes: 0.36s, sent out: 3.10GB, sent bw: 8.63GB/s
INFO 09-14 15:56:03 worker.py:171] After appending weights shards, allocated space on GPU: 10.741 GB, reserved space on GPU: 11.600 GB, free space: 9.474GB, frag space: 0.859GB
INFO 09-14 15:56:03 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.741 GB, reserved space on GPU: 11.600 GB, free space: 9.474GB, frag space: 0.859GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:03 cache_engine.py:159] send kvc shards takes: 0.26s, sent out: 3.86GB, sent bw: 14.69GB/s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:03 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
1907 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:03 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 14.577 GB, reserved space on GPU: 15.596 GB, free space: 5.478GB, frag space: 1.018GB
INFO 09-14 15:56:03 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 15:56:03 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 14.577 GB, reserved space on GPU: 15.596 GB, free space: 5.478GB, frag space: 1.018GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:03 worker.py:165] Before appending weights shards, allocated space on GPU: 7.645 GB, reserved space on GPU: 7.869 GB, free space: 13.300GB, frag space: 0.224GB
1908 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:03 worker.py:168] After recving weights shards, allocated space on GPU: 10.741 GB, reserved space on GPU: 11.002 GB, free space: 10.168GB, frag space: 0.261GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.24s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.67GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:03 worker.py:152] send weights shards takes: 0.26s, sent out: 3.10GB, sent bw: 11.73GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:03 worker.py:171] After appending weights shards, allocated space on GPU: 10.741 GB, reserved space on GPU: 10.957 GB, free space: 10.213GB, frag space: 0.216GB
INFO 09-14 15:56:03 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 14.577 GB, reserved space on GPU: 15.596 GB, free space: 5.478GB, frag space: 1.018GB
1909 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:03 cache_engine.py:159] send kvc shards takes: 0.25s, sent out: 3.86GB, sent bw: 15.14GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:03 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
INFO 09-14 15:56:04 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 14.577 GB, reserved space on GPU: 15.596 GB, free space: 5.478GB, frag space: 1.018GB
INFO 09-14 15:56:04 llm_engine.py:772] Finished liquid for 16 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.48s, move and shrink latency: -1726325762.59s, update worker latency: 1726325763.45s, liquid model weights latency: 0.27s, init mem latency: 0.00s, liquid kvc latency: 0.34s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 14.577 GB, reserved space on GPU: 15.596 GB, free space: 5.478GB, frag space: 1.018GB
INFO 09-14 15:56:04 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #106
INFO 09-14 15:56:04 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 14.569 GB, reserved space on GPU: 15.596 GB, free space: 5.478GB, frag space: 1.026GB
INFO 09-14 15:56:04 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.920 GB, reserved space on GPU: 10.812 GB, free space: 10.261GB, frag space: 0.892GB
INFO 09-14 15:56:04 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:56:04 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.920 GB, reserved space on GPU: 10.812 GB, free space: 10.261GB, frag space: 0.892GB
INFO 09-14 15:56:04 worker.py:165] Before appending weights shards, allocated space on GPU: 9.920 GB, reserved space on GPU: 10.812 GB, free space: 10.261GB, frag space: 0.892GB
INFO 09-14 15:56:04 worker.py:168] After recving weights shards, allocated space on GPU: 16.113 GB, reserved space on GPU: 16.350 GB, free space: 4.724GB, frag space: 0.237GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.32s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 17.18GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:04 worker.py:152] send weights shards takes: 0.39s, sent out: 6.19GB, sent bw: 15.91GB/s
INFO 09-14 15:56:04 worker.py:171] After appending weights shards, allocated space on GPU: 16.114 GB, reserved space on GPU: 16.500 GB, free space: 4.574GB, frag space: 0.386GB
INFO 09-14 15:56:04 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.114 GB, reserved space on GPU: 16.500 GB, free space: 4.574GB, frag space: 0.386GB
1910 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1911 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1912 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1913 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:04 cache_engine.py:159] send kvc shards takes: 0.15s, sent out: 3.04GB, sent bw: 20.38GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:04 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:56:05 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.130 GB, reserved space on GPU: 19.467 GB, free space: 1.607GB, frag space: 0.336GB
INFO 09-14 15:56:05 llm_engine.py:772] Finished liquid for 17 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.81s, move and shrink latency: 0.04s, update worker latency: 0.00s, liquid model weights latency: 0.48s, init mem latency: 0.00s, liquid kvc latency: 0.28s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.130 GB, reserved space on GPU: 19.467 GB, free space: 1.607GB, frag space: 0.336GB
INFO 09-14 15:56:06 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:06 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:56:06 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:06 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:56:06 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:56:06 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.154 GB, reserved space on GPU: 19.467 GB, free space: 1.529GB, frag space: 0.313GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:06 worker.py:165] Before appending weights shards, allocated space on GPU: 0.689 GB, reserved space on GPU: 0.928 GB, free space: 20.164GB, frag space: 0.239GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:06 worker.py:168] After recving weights shards, allocated space on GPU: 6.882 GB, reserved space on GPU: 6.949 GB, free space: 14.142GB, frag space: 0.067GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:06 worker.py:171] After appending weights shards, allocated space on GPU: 6.882 GB, reserved space on GPU: 7.377 GB, free space: 13.714GB, frag space: 0.495GB
It takes: 0.21s to send model shards
After sending shards, there are 7.50GB remaining on GPU0
INFO 09-14 15:56:06 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 24.14GB/s
INFO 09-14 15:56:06 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.960 GB, reserved space on GPU: 13.494 GB, free space: 7.502GB, frag space: 0.534GB
INFO 09-14 15:56:06 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 30.58GB/s
INFO 09-14 15:56:06 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:56:06 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.944 GB, reserved space on GPU: 10.430 GB, free space: 10.566GB, frag space: 0.485GB
INFO 09-14 15:56:06 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #1864
INFO 09-14 15:56:06 worker.py:205] extend gpu in worker takes: 0.20s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:06 worker.py:205] extend gpu in worker takes: 0.20s
INFO 09-14 15:56:06 llm_engine.py:772] Finished liquid for 18 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.66s, update worker latency: 0.05s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.21s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 14.194 GB, reserved space on GPU: 14.680 GB, free space: 6.316GB, frag space: 0.485GB
1914 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1915 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1916 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1917 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1918 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1920 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1919 received!
INFO:     127.0.0.1:51568 - "POST /v1/completions HTTP/1.1" 200 OK
1921 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1922 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1923 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1924 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1925 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1926 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1927 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1928 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1929 received!
INFO:     127.0.0.1:51572 - "POST /v1/completions HTTP/1.1" 200 OK
1930 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1931 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1932 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1933 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1934 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1935 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1937 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1936 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1938 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1939 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1940 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1941 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1942 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1944 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1943 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1945 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1946 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1947 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1949 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1948 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1950 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1951 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1952 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1953 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:12 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:56:12 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:12 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:12 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:12 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:12 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:12 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:12 pynccl.py:65] vLLM is using nccl==2.20.5
WARNING 09-14 15:56:12 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 15:56:12 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 15:56:12 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 15:56:12 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 15:56:12 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 15:56:12 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 14.187 GB, reserved space on GPU: 14.680 GB, free space: 6.088GB, frag space: 0.493GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:12 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.320GB, frag space: 0.014GB
1954 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1955 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1956 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:12 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.972GB, frag space: 0.265GB
1957 received!
It takes: 0.21s to send model shards
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:12 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 18.218GB, frag space: 0.019GB
After sending shards, there are 9.10GB remaining on GPU0
INFO 09-14 15:56:12 worker.py:152] send weights shards takes: 0.23s, sent out: 3.10GB, sent bw: 13.34GB/s
INFO 09-14 15:56:12 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 11.090 GB, reserved space on GPU: 11.666 GB, free space: 9.101GB, frag space: 0.576GB
1958 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:12 cache_engine.py:159] send kvc shards takes: 0.22s, sent out: 3.64GB, sent bw: 16.79GB/s
INFO 09-14 15:56:12 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 15:56:12 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.418 GB, reserved space on GPU: 8.041 GB, free space: 12.726GB, frag space: 0.623GB
INFO 09-14 15:56:12 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 15:56:12 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.418 GB, reserved space on GPU: 8.041 GB, free space: 12.726GB, frag space: 0.623GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:12 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.320GB, frag space: 0.014GB
1959 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1960 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1961 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:13 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.972GB, frag space: 0.265GB
1962 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1963 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:13 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 18.218GB, frag space: 0.019GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.23s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.53GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:13 worker.py:152] send weights shards takes: 0.25s, sent out: 3.10GB, sent bw: 12.16GB/s
INFO 09-14 15:56:13 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 7.418 GB, reserved space on GPU: 8.041 GB, free space: 12.726GB, frag space: 0.623GB
1964 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:13 cache_engine.py:159] send kvc shards takes: 0.21s, sent out: 3.64GB, sent bw: 17.10GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:13 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 15:56:13 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.418 GB, reserved space on GPU: 8.041 GB, free space: 12.726GB, frag space: 0.623GB
INFO 09-14 15:56:13 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #5734
1965 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:13 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:13 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:13 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:13 worker.py:205] extend gpu in worker takes: 0.15s
INFO 09-14 15:56:13 llm_engine.py:772] Finished liquid for 19 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.42s, update worker latency: 0.68s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.25s, extending gpu blocks latency: 0.15s, update blocks latency: 0.08s;, current mem info on GPU0: allocated space on GPU: 14.977 GB, reserved space on GPU: 15.604 GB, free space: 5.164GB, frag space: 0.627GB
1966 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1968 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1967 received!
INFO:     127.0.0.1:51586 - "POST /v1/completions HTTP/1.1" 200 OK
1969 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1970 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1971 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1973 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1972 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1974 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1975 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1976 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1977 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1978 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1979 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1980 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1981 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1982 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1983 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1984 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1985 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1986 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1987 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1988 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1990 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1989 received!
INFO:     127.0.0.1:51598 - "POST /v1/completions HTTP/1.1" 200 OK
1991 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1992 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1993 received!
INFO:     127.0.0.1:33814 - "POST /v1/completions HTTP/1.1" 200 OK
1994 received!
INFO:     127.0.0.1:33812 - "POST /v1/completions HTTP/1.1" 200 OK
1995 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
1996 received!
INFO 09-14 15:56:49 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:56:49 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:49 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:49 pynccl.py:65] vLLM is using nccl==2.20.5
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:49 multiproc_gpu_executor.py:237] Shrink to: #1864, currently using blocks: #0
INFO 09-14 15:56:49 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 15.000 GB, reserved space on GPU: 15.604 GB, free space: 5.086GB, frag space: 0.603GB
1997 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:49 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 7.442 GB, reserved space on GPU: 8.041 GB, free space: 12.648GB, frag space: 0.599GB
INFO 09-14 15:56:49 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 15:56:49 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.442 GB, reserved space on GPU: 8.041 GB, free space: 12.648GB, frag space: 0.599GB
INFO 09-14 15:56:49 worker.py:165] Before appending weights shards, allocated space on GPU: 7.442 GB, reserved space on GPU: 8.041 GB, free space: 12.648GB, frag space: 0.599GB
1998 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:50 worker.py:168] After recving weights shards, allocated space on GPU: 10.538 GB, reserved space on GPU: 10.893 GB, free space: 9.797GB, frag space: 0.354GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.33s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.63GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:50 worker.py:152] send weights shards takes: 0.36s, sent out: 3.10GB, sent bw: 8.67GB/s
INFO 09-14 15:56:50 worker.py:171] After appending weights shards, allocated space on GPU: 10.538 GB, reserved space on GPU: 11.324 GB, free space: 9.365GB, frag space: 0.786GB
INFO 09-14 15:56:50 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.538 GB, reserved space on GPU: 11.324 GB, free space: 9.365GB, frag space: 0.786GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:50 cache_engine.py:159] send kvc shards takes: 0.25s, sent out: 3.64GB, sent bw: 14.45GB/s
1999 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:56:50 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
INFO 09-14 15:56:50 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 14.210 GB, reserved space on GPU: 14.949 GB, free space: 5.740GB, frag space: 0.739GB
INFO 09-14 15:56:50 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 15:56:50 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 14.210 GB, reserved space on GPU: 14.949 GB, free space: 5.740GB, frag space: 0.739GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:50 worker.py:165] Before appending weights shards, allocated space on GPU: 7.442 GB, reserved space on GPU: 7.713 GB, free space: 13.070GB, frag space: 0.271GB
2000 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2001 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2002 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:50 worker.py:168] After recving weights shards, allocated space on GPU: 10.538 GB, reserved space on GPU: 10.865 GB, free space: 9.918GB, frag space: 0.327GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.26s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.63GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:50 worker.py:152] send weights shards takes: 0.28s, sent out: 3.10GB, sent bw: 11.00GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:50 worker.py:171] After appending weights shards, allocated space on GPU: 10.538 GB, reserved space on GPU: 10.867 GB, free space: 9.916GB, frag space: 0.329GB
INFO 09-14 15:56:50 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 14.210 GB, reserved space on GPU: 14.949 GB, free space: 5.740GB, frag space: 0.739GB
2003 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2004 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:51 cache_engine.py:159] send kvc shards takes: 0.24s, sent out: 3.64GB, sent bw: 14.99GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:56:51 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
INFO 09-14 15:56:51 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 14.210 GB, reserved space on GPU: 14.949 GB, free space: 5.740GB, frag space: 0.739GB
INFO 09-14 15:56:51 llm_engine.py:772] Finished liquid for 20 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.49s, move and shrink latency: -1726325809.76s, update worker latency: 1726325810.63s, liquid model weights latency: 0.29s, init mem latency: 0.00s, liquid kvc latency: 0.33s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 14.210 GB, reserved space on GPU: 14.949 GB, free space: 5.740GB, frag space: 0.739GB
2005 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2006 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:51 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #66
INFO 09-14 15:56:51 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 14.202 GB, reserved space on GPU: 14.949 GB, free space: 5.740GB, frag space: 0.747GB
INFO 09-14 15:56:51 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.952 GB, reserved space on GPU: 10.699 GB, free space: 9.990GB, frag space: 0.747GB
INFO 09-14 15:56:51 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:56:51 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.952 GB, reserved space on GPU: 10.699 GB, free space: 9.990GB, frag space: 0.747GB
INFO 09-14 15:56:51 worker.py:165] Before appending weights shards, allocated space on GPU: 9.952 GB, reserved space on GPU: 10.699 GB, free space: 9.990GB, frag space: 0.747GB
2007 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2008 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2009 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2010 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:51 worker.py:168] After recving weights shards, allocated space on GPU: 16.145 GB, reserved space on GPU: 16.377 GB, free space: 4.312GB, frag space: 0.232GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.31s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 16.65GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:51 worker.py:152] send weights shards takes: 0.34s, sent out: 6.19GB, sent bw: 18.10GB/s
2011 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:51 worker.py:171] After appending weights shards, allocated space on GPU: 16.146 GB, reserved space on GPU: 16.473 GB, free space: 4.216GB, frag space: 0.327GB
INFO 09-14 15:56:51 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.146 GB, reserved space on GPU: 16.473 GB, free space: 4.216GB, frag space: 0.327GB
2012 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:52 cache_engine.py:159] send kvc shards takes: 0.14s, sent out: 3.04GB, sent bw: 21.61GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:52 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:56:52 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.162 GB, reserved space on GPU: 19.535 GB, free space: 1.154GB, frag space: 0.374GB
INFO 09-14 15:56:52 llm_engine.py:772] Finished liquid for 21 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.84s, move and shrink latency: 0.04s, update worker latency: 0.00s, liquid model weights latency: 0.47s, init mem latency: 0.00s, liquid kvc latency: 0.32s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.162 GB, reserved space on GPU: 19.535 GB, free space: 1.154GB, frag space: 0.374GB
2013 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2014 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2015 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2016 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2017 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2018 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2019 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:53 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:56:53 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:53 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:53 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:56:53 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:56:53 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.185 GB, reserved space on GPU: 19.535 GB, free space: 1.076GB, frag space: 0.350GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:53 worker.py:165] Before appending weights shards, allocated space on GPU: 0.720 GB, reserved space on GPU: 1.068 GB, free space: 19.636GB, frag space: 0.348GB
2020 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2021 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:53 worker.py:168] After recving weights shards, allocated space on GPU: 6.913 GB, reserved space on GPU: 6.996 GB, free space: 13.709GB, frag space: 0.083GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:53 worker.py:171] After appending weights shards, allocated space on GPU: 6.913 GB, reserved space on GPU: 7.439 GB, free space: 13.265GB, frag space: 0.526GB
It takes: 0.22s to send model shards
After sending shards, there are 6.87GB remaining on GPU0
INFO 09-14 15:56:53 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 23.75GB/s
INFO 09-14 15:56:53 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 12.991 GB, reserved space on GPU: 13.742 GB, free space: 6.869GB, frag space: 0.751GB
INFO 09-14 15:56:53 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 30.95GB/s
2022 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:53 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:56:53 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 9.975 GB, reserved space on GPU: 10.584 GB, free space: 10.027GB, frag space: 0.609GB
INFO 09-14 15:56:53 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #1749
2023 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:56:54 worker.py:205] extend gpu in worker takes: 0.22s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:56:54 worker.py:205] extend gpu in worker takes: 0.23s
INFO 09-14 15:56:54 llm_engine.py:772] Finished liquid for 22 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.68s, update worker latency: 0.05s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.23s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 13.745 GB, reserved space on GPU: 14.492 GB, free space: 6.119GB, frag space: 0.747GB
2024 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2025 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2026 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2027 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2028 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2029 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2030 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2031 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2032 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2033 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2034 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2035 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2036 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2037 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2038 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2039 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2040 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2041 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2042 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2043 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2044 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2045 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2046 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2047 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2048 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2049 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2050 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2051 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2052 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2053 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2055 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2054 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2057 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2056 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2058 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2059 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2060 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2061 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2062 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2063 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2064 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2065 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2066 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2067 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2068 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2069 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2070 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2071 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2072 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2073 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2074 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2075 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2076 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2077 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2078 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2080 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2079 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2081 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2082 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2083 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2084 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2085 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2086 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2087 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2088 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2089 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2091 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2090 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2092 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2093 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2094 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2095 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2096 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2097 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2098 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2099 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2100 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2101 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2102 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2103 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2104 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2105 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2106 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2107 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2108 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2109 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2110 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2111 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2112 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2113 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2114 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2115 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2116 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2117 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2120 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2119 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2118 received!
INFO:     127.0.0.1:52736 - "POST /v1/completions HTTP/1.1" 200 OK
2121 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2122 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2123 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2124 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2125 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2126 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2127 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2128 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2129 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2130 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2131 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2132 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2133 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2134 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2136 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2135 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2137 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2138 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2139 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2140 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2141 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2142 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2143 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2144 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2145 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2146 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2147 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2148 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2149 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2150 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2151 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2152 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2153 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2154 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2155 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2156 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2157 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2158 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2159 received!
INFO:     127.0.0.1:52876 - "POST /v1/completions HTTP/1.1" 200 OK
2160 received!
INFO:     127.0.0.1:52872 - "POST /v1/completions HTTP/1.1" 200 OK
2161 received!
INFO:     127.0.0.1:59744 - "POST /v1/completions HTTP/1.1" 200 OK
2162 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2163 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2164 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2166 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2165 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2167 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2168 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2169 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2170 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2171 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2172 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2173 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2174 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2175 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2176 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2177 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2178 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2179 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2180 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2181 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2182 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2183 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2184 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2185 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2186 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2187 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2188 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2190 received!
INFO:     127.0.0.1:41982 - "POST /v1/completions HTTP/1.1" 200 OK
2189 received!
INFO:     127.0.0.1:41988 - "POST /v1/completions HTTP/1.1" 200 OK
2191 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2192 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2193 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2194 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2195 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2196 received!
INFO:     127.0.0.1:41992 - "POST /v1/completions HTTP/1.1" 200 OK
2197 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2198 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2199 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2200 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2202 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2201 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2204 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2203 received!
INFO:     127.0.0.1:42004 - "POST /v1/completions HTTP/1.1" 200 OK
2205 received!
INFO:     127.0.0.1:42014 - "POST /v1/completions HTTP/1.1" 200 OK
2206 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2207 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2208 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2209 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2211 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2210 received!
INFO:     127.0.0.1:42026 - "POST /v1/completions HTTP/1.1" 200 OK
2212 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2213 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2214 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2216 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2215 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2217 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2218 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2219 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2220 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2221 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2222 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2223 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2224 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2225 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2226 received!
INFO:     127.0.0.1:42032 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:57:27 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:57:27 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:57:27 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:57:27 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:57:27 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:57:27 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:57:27 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:57:27 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 15:57:27 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 15:57:27 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
WARNING 09-14 15:57:27 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 15:57:27 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 15:57:27 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 15:57:27 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 13.737 GB, reserved space on GPU: 14.492 GB, free space: 5.890GB, frag space: 0.755GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:57:27 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.091GB, frag space: 0.014GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:57:27 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.744GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:57:27 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 17.990GB, frag space: 0.019GB
It takes: 0.21s to send model shards
After sending shards, there are 9.22GB remaining on GPU0
INFO 09-14 15:57:27 worker.py:152] send weights shards takes: 0.24s, sent out: 3.10GB, sent bw: 13.08GB/s
INFO 09-14 15:57:27 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.641 GB, reserved space on GPU: 11.162 GB, free space: 9.220GB, frag space: 0.521GB
INFO 09-14 15:57:27 cache_engine.py:159] send kvc shards takes: 0.20s, sent out: 3.42GB, sent bw: 17.10GB/s
INFO 09-14 15:57:27 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 15:57:27 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.246 GB, reserved space on GPU: 7.725 GB, free space: 12.658GB, frag space: 0.478GB
INFO 09-14 15:57:27 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 15:57:27 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.246 GB, reserved space on GPU: 7.725 GB, free space: 12.658GB, frag space: 0.478GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:57:27 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 21.091GB, frag space: 0.014GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:57:28 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.744GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:57:28 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 17.990GB, frag space: 0.019GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.21s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.50GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:57:28 worker.py:152] send weights shards takes: 0.24s, sent out: 3.10GB, sent bw: 12.94GB/s
INFO 09-14 15:57:28 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 7.246 GB, reserved space on GPU: 7.725 GB, free space: 12.658GB, frag space: 0.478GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:57:28 cache_engine.py:159] send kvc shards takes: 0.20s, sent out: 3.42GB, sent bw: 17.41GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:57:28 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 15:57:28 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.246 GB, reserved space on GPU: 7.725 GB, free space: 12.658GB, frag space: 0.478GB
INFO 09-14 15:57:28 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #5726
2227 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2228 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:57:28 worker.py:205] extend gpu in worker takes: 0.15s
INFO 09-14 15:57:28 worker.py:205] extend gpu in worker takes: 0.17s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:57:28 worker.py:205] extend gpu in worker takes: 0.18s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:57:28 worker.py:205] extend gpu in worker takes: 0.18s
INFO 09-14 15:57:28 llm_engine.py:772] Finished liquid for 23 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.32s, update worker latency: 0.65s, liquid model weights latency: 0.24s, init mem latency: 0.00s, liquid kvc latency: 0.23s, extending gpu blocks latency: 0.18s, update blocks latency: 0.01s;, current mem info on GPU0: allocated space on GPU: 14.996 GB, reserved space on GPU: 15.475 GB, free space: 4.908GB, frag space: 0.478GB
2229 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2231 received!
INFO:     127.0.0.1:59760 - "POST /v1/completions HTTP/1.1" 200 OK
2230 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2232 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2233 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2234 received!
INFO:     127.0.0.1:59758 - "POST /v1/completions HTTP/1.1" 200 OK
2235 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:58:35 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:58:35 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:58:35 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:58:35 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:58:35 multiproc_gpu_executor.py:237] Shrink to: #1749, currently using blocks: #53
INFO 09-14 15:58:35 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 15.020 GB, reserved space on GPU: 15.475 GB, free space: 4.830GB, frag space: 0.455GB
INFO 09-14 15:58:36 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 7.270 GB, reserved space on GPU: 7.725 GB, free space: 12.580GB, frag space: 0.455GB
INFO 09-14 15:58:36 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 15:58:36 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.270 GB, reserved space on GPU: 7.725 GB, free space: 12.580GB, frag space: 0.455GB
INFO 09-14 15:58:36 worker.py:165] Before appending weights shards, allocated space on GPU: 7.270 GB, reserved space on GPU: 7.725 GB, free space: 12.580GB, frag space: 0.455GB
2236 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:58:36 worker.py:168] After recving weights shards, allocated space on GPU: 10.366 GB, reserved space on GPU: 10.697 GB, free space: 9.607GB, frag space: 0.331GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.34s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.65GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:58:36 worker.py:152] send weights shards takes: 0.36s, sent out: 3.10GB, sent bw: 8.63GB/s
INFO 09-14 15:58:36 worker.py:171] After appending weights shards, allocated space on GPU: 10.366 GB, reserved space on GPU: 11.027 GB, free space: 9.277GB, frag space: 0.661GB
INFO 09-14 15:58:36 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.366 GB, reserved space on GPU: 11.027 GB, free space: 9.277GB, frag space: 0.661GB
2237 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2238 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:58:36 cache_engine.py:159] send kvc shards takes: 0.24s, sent out: 3.42GB, sent bw: 14.52GB/s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 15:58:36 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
INFO 09-14 15:58:36 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 13.761 GB, reserved space on GPU: 14.465 GB, free space: 5.839GB, frag space: 0.704GB
INFO 09-14 15:58:36 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 15:58:36 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 13.761 GB, reserved space on GPU: 14.465 GB, free space: 5.839GB, frag space: 0.704GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:58:36 worker.py:165] Before appending weights shards, allocated space on GPU: 7.270 GB, reserved space on GPU: 7.541 GB, free space: 12.859GB, frag space: 0.271GB
2239 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2240 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:58:36 worker.py:168] After recving weights shards, allocated space on GPU: 10.366 GB, reserved space on GPU: 10.662 GB, free space: 9.738GB, frag space: 0.296GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.24s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.65GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:58:37 worker.py:152] send weights shards takes: 0.26s, sent out: 3.10GB, sent bw: 11.86GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:58:37 worker.py:171] After appending weights shards, allocated space on GPU: 10.366 GB, reserved space on GPU: 10.633 GB, free space: 9.767GB, frag space: 0.267GB
INFO 09-14 15:58:37 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 13.761 GB, reserved space on GPU: 14.465 GB, free space: 5.839GB, frag space: 0.704GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:58:37 cache_engine.py:159] send kvc shards takes: 0.23s, sent out: 3.42GB, sent bw: 15.01GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 15:58:37 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
2241 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:58:37 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 13.761 GB, reserved space on GPU: 14.465 GB, free space: 5.839GB, frag space: 0.704GB
INFO 09-14 15:58:37 llm_engine.py:772] Finished liquid for 24 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.38s, move and shrink latency: -1726325915.93s, update worker latency: 1726325916.74s, liquid model weights latency: 0.27s, init mem latency: 0.00s, liquid kvc latency: 0.29s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 13.761 GB, reserved space on GPU: 14.465 GB, free space: 5.839GB, frag space: 0.704GB
2242 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2243 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2244 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2245 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2246 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2247 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2248 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2249 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2250 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2251 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2252 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2253 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2254 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2255 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2256 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2257 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2258 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2259 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2260 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2261 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2262 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2263 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2264 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2265 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2266 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2267 received!
INFO:     127.0.0.1:52306 - "POST /v1/completions HTTP/1.1" 200 OK
2268 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2269 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2270 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2271 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2272 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2273 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2274 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2275 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2276 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2277 received!
INFO:     127.0.0.1:55188 - "POST /v1/completions HTTP/1.1" 200 OK
2278 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:59:25 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #19
INFO 09-14 15:59:25 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 13.753 GB, reserved space on GPU: 14.465 GB, free space: 5.839GB, frag space: 0.712GB
INFO 09-14 15:59:25 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 9.983 GB, reserved space on GPU: 10.652 GB, free space: 9.652GB, frag space: 0.669GB
INFO 09-14 15:59:25 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 15:59:25 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 9.983 GB, reserved space on GPU: 10.652 GB, free space: 9.652GB, frag space: 0.669GB
INFO 09-14 15:59:25 worker.py:165] Before appending weights shards, allocated space on GPU: 9.983 GB, reserved space on GPU: 10.652 GB, free space: 9.652GB, frag space: 0.669GB
2279 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2280 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:59:25 worker.py:168] After recving weights shards, allocated space on GPU: 16.176 GB, reserved space on GPU: 16.393 GB, free space: 3.912GB, frag space: 0.216GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.31s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 16.21GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:26 worker.py:152] send weights shards takes: 0.37s, sent out: 6.19GB, sent bw: 16.67GB/s
INFO 09-14 15:59:26 worker.py:171] After appending weights shards, allocated space on GPU: 16.177 GB, reserved space on GPU: 16.672 GB, free space: 3.632GB, frag space: 0.495GB
INFO 09-14 15:59:26 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.177 GB, reserved space on GPU: 16.672 GB, free space: 3.632GB, frag space: 0.495GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:26 cache_engine.py:159] send kvc shards takes: 0.12s, sent out: 3.04GB, sent bw: 25.11GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:26 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 15:59:26 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.193 GB, reserved space on GPU: 19.734 GB, free space: 0.570GB, frag space: 0.542GB
INFO 09-14 15:59:26 llm_engine.py:772] Finished liquid for 25 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.90s, move and shrink latency: 0.04s, update worker latency: 0.00s, liquid model weights latency: 0.50s, init mem latency: 0.00s, liquid kvc latency: 0.36s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.193 GB, reserved space on GPU: 19.734 GB, free space: 0.570GB, frag space: 0.542GB
2281 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2282 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2283 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2284 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2285 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2286 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2287 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:59:28 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 15:59:28 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:28 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:28 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 15:59:28 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 15:59:28 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.216 GB, reserved space on GPU: 19.734 GB, free space: 0.492GB, frag space: 0.518GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:28 worker.py:165] Before appending weights shards, allocated space on GPU: 0.752 GB, reserved space on GPU: 1.131 GB, free space: 19.189GB, frag space: 0.379GB
2288 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2289 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:28 worker.py:168] After recving weights shards, allocated space on GPU: 6.944 GB, reserved space on GPU: 7.027 GB, free space: 13.293GB, frag space: 0.083GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:28 worker.py:171] After appending weights shards, allocated space on GPU: 6.944 GB, reserved space on GPU: 7.377 GB, free space: 12.943GB, frag space: 0.433GB
It takes: 0.21s to send model shards
After sending shards, there are 6.28GB remaining on GPU0
INFO 09-14 15:59:28 worker.py:152] send weights shards takes: 0.26s, sent out: 6.19GB, sent bw: 23.93GB/s
INFO 09-14 15:59:28 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 13.023 GB, reserved space on GPU: 13.945 GB, free space: 6.281GB, frag space: 0.923GB
INFO 09-14 15:59:28 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 31.48GB/s
2290 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 15:59:28 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 15:59:28 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 10.007 GB, reserved space on GPU: 10.883 GB, free space: 9.343GB, frag space: 0.876GB
INFO 09-14 15:59:28 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #1666
INFO 09-14 15:59:29 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 15:59:29 worker.py:205] extend gpu in worker takes: 0.16s
INFO 09-14 15:59:29 llm_engine.py:772] Finished liquid for 26 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.99s, update worker latency: 0.06s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.51s, extending gpu blocks latency: 0.16s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 13.452 GB, reserved space on GPU: 14.383 GB, free space: 5.843GB, frag space: 0.931GB
2291 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2292 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2293 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2294 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2295 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2296 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2297 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2298 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2300 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2299 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2301 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2302 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2303 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2304 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2305 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2306 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2307 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2308 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2310 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2309 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2311 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2312 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2313 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2314 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2315 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2316 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2317 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2318 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2319 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2320 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2321 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2323 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2322 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2325 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2324 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2326 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2327 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2328 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2329 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2330 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2331 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2332 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2333 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2334 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2336 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2335 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2337 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2338 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2339 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2340 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2342 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2341 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2343 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2344 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2346 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2345 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2347 received!
INFO:     127.0.0.1:59246 - "POST /v1/completions HTTP/1.1" 200 OK
2348 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2349 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2351 received!
INFO:     127.0.0.1:48620 - "POST /v1/completions HTTP/1.1" 200 OK
2350 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2352 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2353 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2354 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2355 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2356 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2357 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2358 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2359 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2360 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2361 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2362 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2363 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2364 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2365 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2366 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2367 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2368 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2369 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2370 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2371 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2372 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2373 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2374 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2375 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2376 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2377 received!
INFO:     127.0.0.1:48628 - "POST /v1/completions HTTP/1.1" 200 OK
2378 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2379 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2380 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2381 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2382 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2384 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2383 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2385 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2386 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2387 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2388 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2389 received!
INFO:     127.0.0.1:33992 - "POST /v1/completions HTTP/1.1" 200 OK
2390 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2391 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2393 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2392 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2394 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2395 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2396 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2397 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2398 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2399 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2400 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2401 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2402 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2403 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2404 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2405 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2406 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2407 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2408 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2409 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2410 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2411 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2412 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2413 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2414 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2415 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2416 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2417 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2418 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2419 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2420 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2421 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2423 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2422 received!
INFO:     127.0.0.1:46520 - "POST /v1/completions HTTP/1.1" 200 OK
2424 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2425 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2426 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2427 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2428 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2429 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2430 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2431 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2432 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2433 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2434 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2435 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2436 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2437 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2438 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2439 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2440 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2441 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2442 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2443 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2444 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2445 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2446 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2447 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2449 received!
INFO:     127.0.0.1:33968 - "POST /v1/completions HTTP/1.1" 200 OK
2448 received!
INFO:     127.0.0.1:46528 - "POST /v1/completions HTTP/1.1" 200 OK
2450 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2451 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2452 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2453 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2454 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2455 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2456 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2457 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2458 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2459 received!
INFO:     127.0.0.1:48164 - "POST /v1/completions HTTP/1.1" 200 OK
2460 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2461 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2462 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2463 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2464 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2465 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2466 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2467 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2468 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2469 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2470 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2471 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2472 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2473 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2474 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2475 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2476 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2477 received!
INFO:     127.0.0.1:46542 - "POST /v1/completions HTTP/1.1" 200 OK
2478 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2479 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2480 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2481 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2482 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2483 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2484 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2485 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2486 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2487 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2488 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2489 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2490 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2491 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2492 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2493 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2494 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2495 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2496 received!
INFO:     127.0.0.1:33982 - "POST /v1/completions HTTP/1.1" 200 OK
2497 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2498 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2499 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2500 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2501 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2502 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2503 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2504 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2505 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2506 received!
INFO:     127.0.0.1:56962 - "POST /v1/completions HTTP/1.1" 200 OK
2507 received!
INFO:     127.0.0.1:56966 - "POST /v1/completions HTTP/1.1" 200 OK
2508 received!
INFO:     127.0.0.1:56962 - "POST /v1/completions HTTP/1.1" 200 OK
2509 received!
INFO:     127.0.0.1:56962 - "POST /v1/completions HTTP/1.1" 200 OK
2510 received!
INFO:     127.0.0.1:56962 - "POST /v1/completions HTTP/1.1" 200 OK
2511 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2512 received!
INFO:     127.0.0.1:56978 - "POST /v1/completions HTTP/1.1" 200 OK
2513 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2514 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2515 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2516 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2517 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2518 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2519 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2520 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2521 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2522 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2523 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2524 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2525 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2526 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2527 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2528 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2529 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2530 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2531 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2532 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2533 received!
INFO:     127.0.0.1:59502 - "POST /v1/completions HTTP/1.1" 200 OK
2534 received!
INFO:     127.0.0.1:59504 - "POST /v1/completions HTTP/1.1" 200 OK
2535 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2536 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2537 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2538 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2539 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2540 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2541 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2542 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2543 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2544 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2545 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2546 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2547 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2548 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2549 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2550 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2551 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2552 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2553 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2555 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2554 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2556 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2557 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2558 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2559 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2560 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2561 received!
INFO:     127.0.0.1:59520 - "POST /v1/completions HTTP/1.1" 200 OK
2562 received!
INFO:     127.0.0.1:59532 - "POST /v1/completions HTTP/1.1" 200 OK
2563 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2564 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2565 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2566 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2567 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2568 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2569 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2570 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2571 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2572 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2573 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2574 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2575 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2576 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2577 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2578 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2579 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2580 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2581 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2582 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2583 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2584 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2585 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2586 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2587 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2588 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2589 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2590 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2592 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2591 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:00:47 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 16:00:47 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:00:47 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:00:47 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:00:47 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:00:47 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:00:47 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:00:47 pynccl.py:65] vLLM is using nccl==2.20.5
2593 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 16:00:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 16:00:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
WARNING 09-14 16:00:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 16:00:47 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 16:00:47 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 16:00:47 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 13.444 GB, reserved space on GPU: 14.383 GB, free space: 5.617GB, frag space: 0.938GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:00:47 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 20.865GB, frag space: 0.014GB
2594 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2595 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2596 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:00:47 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.517GB, frag space: 0.265GB
2597 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2598 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2599 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:00:47 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 17.763GB, frag space: 0.019GB
It takes: 0.22s to send model shards
After sending shards, there are 8.88GB remaining on GPU0
INFO 09-14 16:00:47 worker.py:152] send weights shards takes: 0.25s, sent out: 3.10GB, sent bw: 12.47GB/s
INFO 09-14 16:00:47 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.348 GB, reserved space on GPU: 11.119 GB, free space: 8.880GB, frag space: 0.771GB
2600 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:00:47 cache_engine.py:159] send kvc shards takes: 0.19s, sent out: 3.25GB, sent bw: 17.20GB/s
INFO 09-14 16:00:47 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 16:00:47 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.094 GB, reserved space on GPU: 7.766 GB, free space: 12.234GB, frag space: 0.671GB
INFO 09-14 16:00:47 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 16:00:47 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.094 GB, reserved space on GPU: 7.766 GB, free space: 12.234GB, frag space: 0.671GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:00:47 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 20.865GB, frag space: 0.014GB
2601 received!
INFO:     127.0.0.1:56952 - "POST /v1/completions HTTP/1.1" 200 OK
2602 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2603 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:00:48 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.517GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:00:48 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 17.763GB, frag space: 0.019GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.23s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.39GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:00:48 worker.py:152] send weights shards takes: 0.26s, sent out: 3.10GB, sent bw: 11.80GB/s
INFO 09-14 16:00:48 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 7.094 GB, reserved space on GPU: 7.766 GB, free space: 12.234GB, frag space: 0.671GB
2604 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2605 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:00:48 cache_engine.py:159] send kvc shards takes: 0.19s, sent out: 3.25GB, sent bw: 17.46GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:00:48 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 16:00:48 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 7.094 GB, reserved space on GPU: 7.766 GB, free space: 12.234GB, frag space: 0.671GB
INFO 09-14 16:00:48 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #5687
INFO 09-14 16:00:48 worker.py:205] extend gpu in worker takes: 0.14s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:00:48 worker.py:205] extend gpu in worker takes: 0.15s
2606 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:00:48 worker.py:205] extend gpu in worker takes: 0.15s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:00:48 worker.py:205] extend gpu in worker takes: 0.15s
INFO 09-14 16:00:48 llm_engine.py:772] Finished liquid for 27 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.30s, update worker latency: 0.65s, liquid model weights latency: 0.26s, init mem latency: 0.00s, liquid kvc latency: 0.22s, extending gpu blocks latency: 0.16s, update blocks latency: 0.01s;, current mem info on GPU0: allocated space on GPU: 14.965 GB, reserved space on GPU: 15.682 GB, free space: 4.318GB, frag space: 0.716GB
2607 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2608 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2609 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2610 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2611 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2612 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2613 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2614 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2615 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2616 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2617 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2618 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2619 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2620 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2621 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2622 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2623 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2624 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2625 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2626 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2628 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2627 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2629 received!
INFO:     127.0.0.1:47796 - "POST /v1/completions HTTP/1.1" 200 OK
2630 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2631 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2632 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2633 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2634 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2636 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2635 received!
INFO:     127.0.0.1:47810 - "POST /v1/completions HTTP/1.1" 200 OK
2637 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2638 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2639 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2640 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2642 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2641 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2643 received!
INFO:     127.0.0.1:47818 - "POST /v1/completions HTTP/1.1" 200 OK
2644 received!
INFO:     127.0.0.1:47826 - "POST /v1/completions HTTP/1.1" 200 OK
2645 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2646 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2647 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2648 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2649 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2650 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2651 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2652 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2653 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2654 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2655 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2656 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2657 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2658 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2660 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2659 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2661 received!
INFO:     127.0.0.1:47838 - "POST /v1/completions HTTP/1.1" 200 OK
2662 received!
INFO:     127.0.0.1:47854 - "POST /v1/completions HTTP/1.1" 200 OK
2663 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2664 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2665 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2666 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2667 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2668 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2669 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2670 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2671 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2672 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2673 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2674 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2675 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2676 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2678 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2677 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2679 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2680 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2681 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2682 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2684 received!
INFO:     127.0.0.1:47782 - "POST /v1/completions HTTP/1.1" 200 OK
2683 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2685 received!
INFO:     127.0.0.1:47864 - "POST /v1/completions HTTP/1.1" 200 OK
2686 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2687 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2688 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2689 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2690 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2691 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2692 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2693 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2694 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2695 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2696 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2697 received!
INFO:     127.0.0.1:59490 - "POST /v1/completions HTTP/1.1" 200 OK
2698 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2699 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2700 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2701 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2702 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2703 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2704 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2705 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2706 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2707 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2708 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2709 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2710 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2711 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2712 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2713 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2714 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2715 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2716 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2717 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2718 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2719 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2720 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2721 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2722 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2723 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2724 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2725 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2726 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2727 received!
INFO:     127.0.0.1:45850 - "POST /v1/completions HTTP/1.1" 200 OK
2728 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2729 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2730 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2731 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2732 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2733 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2734 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2735 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2736 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2737 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2738 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2739 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2740 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2741 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2742 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2743 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2744 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2745 received!
INFO:     127.0.0.1:33136 - "POST /v1/completions HTTP/1.1" 200 OK
2747 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2746 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2748 received!
INFO:     127.0.0.1:33136 - "POST /v1/completions HTTP/1.1" 200 OK
2749 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2750 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2751 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2752 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2753 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2754 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2755 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2756 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2757 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2758 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2759 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2760 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2761 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2762 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2763 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2764 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2765 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2766 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2767 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2768 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2769 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2770 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2771 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2772 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2773 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2774 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2775 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2776 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2777 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2778 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2779 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2780 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2781 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2782 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2783 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2784 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2785 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2786 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2787 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2788 received!
INFO:     127.0.0.1:33148 - "POST /v1/completions HTTP/1.1" 200 OK
2789 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2790 received!
INFO:     127.0.0.1:40298 - "POST /v1/completions HTTP/1.1" 200 OK
2791 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2792 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2793 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2794 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2795 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2796 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2797 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2798 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2799 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2800 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2801 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2802 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2803 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2804 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2805 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2806 received!
INFO:     127.0.0.1:40314 - "POST /v1/completions HTTP/1.1" 200 OK
2807 received!
INFO:     127.0.0.1:40314 - "POST /v1/completions HTTP/1.1" 200 OK
2809 received!
INFO:     127.0.0.1:40314 - "POST /v1/completions HTTP/1.1" 200 OK
2808 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2811 received!
INFO:     127.0.0.1:45848 - "POST /v1/completions HTTP/1.1" 200 OK
2810 received!
INFO:     127.0.0.1:40314 - "POST /v1/completions HTTP/1.1" 200 OK
2812 received!
INFO:     127.0.0.1:40314 - "POST /v1/completions HTTP/1.1" 200 OK
2813 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:01:53 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 16:01:53 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:01:53 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:01:53 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 16:01:53 multiproc_gpu_executor.py:237] Shrink to: #1666, currently using blocks: #0
INFO 09-14 16:01:53 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 14.989 GB, reserved space on GPU: 15.682 GB, free space: 4.240GB, frag space: 0.693GB
INFO 09-14 16:01:53 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 7.118 GB, reserved space on GPU: 7.766 GB, free space: 12.156GB, frag space: 0.648GB
INFO 09-14 16:01:53 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 16:01:53 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 7.118 GB, reserved space on GPU: 7.766 GB, free space: 12.156GB, frag space: 0.648GB
INFO 09-14 16:01:53 worker.py:165] Before appending weights shards, allocated space on GPU: 7.118 GB, reserved space on GPU: 7.766 GB, free space: 12.156GB, frag space: 0.648GB
2814 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:01:53 worker.py:168] After recving weights shards, allocated space on GPU: 10.214 GB, reserved space on GPU: 10.605 GB, free space: 9.316GB, frag space: 0.392GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.33s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.55GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:01:53 worker.py:152] send weights shards takes: 0.36s, sent out: 3.10GB, sent bw: 8.69GB/s
INFO 09-14 16:01:53 worker.py:171] After appending weights shards, allocated space on GPU: 10.214 GB, reserved space on GPU: 10.967 GB, free space: 8.955GB, frag space: 0.753GB
INFO 09-14 16:01:53 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.214 GB, reserved space on GPU: 10.967 GB, free space: 8.955GB, frag space: 0.753GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:01:53 cache_engine.py:159] send kvc shards takes: 0.23s, sent out: 3.25GB, sent bw: 14.34GB/s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:01:53 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
INFO 09-14 16:01:54 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 13.468 GB, reserved space on GPU: 14.320 GB, free space: 5.601GB, frag space: 0.852GB
INFO 09-14 16:01:54 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 16:01:54 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 13.468 GB, reserved space on GPU: 14.320 GB, free space: 5.601GB, frag space: 0.852GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:01:54 worker.py:165] Before appending weights shards, allocated space on GPU: 7.118 GB, reserved space on GPU: 7.457 GB, free space: 12.558GB, frag space: 0.339GB
2815 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2816 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:01:54 worker.py:168] After recving weights shards, allocated space on GPU: 10.214 GB, reserved space on GPU: 10.605 GB, free space: 9.410GB, frag space: 0.392GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.26s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.55GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:01:54 worker.py:152] send weights shards takes: 0.28s, sent out: 3.10GB, sent bw: 10.91GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:01:54 worker.py:171] After appending weights shards, allocated space on GPU: 10.214 GB, reserved space on GPU: 10.576 GB, free space: 9.439GB, frag space: 0.362GB
INFO 09-14 16:01:54 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 13.468 GB, reserved space on GPU: 14.320 GB, free space: 5.601GB, frag space: 0.852GB
2817 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:01:54 cache_engine.py:159] send kvc shards takes: 0.22s, sent out: 3.25GB, sent bw: 14.82GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:01:54 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
INFO 09-14 16:01:54 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 13.468 GB, reserved space on GPU: 14.320 GB, free space: 5.601GB, frag space: 0.852GB
INFO 09-14 16:01:54 llm_engine.py:772] Finished liquid for 28 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.44s, move and shrink latency: -1726326113.18s, update worker latency: 1726326114.04s, liquid model weights latency: 0.30s, init mem latency: 0.00s, liquid kvc latency: 0.28s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 13.468 GB, reserved space on GPU: 14.320 GB, free space: 5.601GB, frag space: 0.852GB
2818 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2819 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2820 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2821 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2822 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2823 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2825 received!
INFO:     127.0.0.1:38206 - "POST /v1/completions HTTP/1.1" 200 OK
2824 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2826 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2827 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2828 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2829 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2830 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2831 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2832 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2833 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2834 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2835 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2836 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2837 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2838 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2839 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2840 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2841 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2842 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2843 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2844 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2845 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2846 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2847 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2848 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2849 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2850 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2851 received!
INFO:     127.0.0.1:57216 - "POST /v1/completions HTTP/1.1" 200 OK
2852 received!
INFO:     127.0.0.1:57216 - "POST /v1/completions HTTP/1.1" 200 OK
2853 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2854 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2855 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2856 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2857 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2858 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2859 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2860 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2861 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2862 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2863 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2864 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2865 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2866 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2867 received!
INFO:     127.0.0.1:38218 - "POST /v1/completions HTTP/1.1" 200 OK
2868 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2869 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2870 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2871 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2872 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2873 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2874 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2875 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2876 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2877 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2878 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2879 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2880 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2881 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2882 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2883 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2884 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2885 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2886 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2887 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2888 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2889 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2890 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2891 received!
INFO:     127.0.0.1:50698 - "POST /v1/completions HTTP/1.1" 200 OK
2892 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2893 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:03:41 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #48
INFO 09-14 16:03:41 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 13.460 GB, reserved space on GPU: 14.320 GB, free space: 5.601GB, frag space: 0.860GB
INFO 09-14 16:03:41 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 10.014 GB, reserved space on GPU: 10.725 GB, free space: 9.197GB, frag space: 0.711GB
INFO 09-14 16:03:41 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 16:03:41 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 10.014 GB, reserved space on GPU: 10.725 GB, free space: 9.197GB, frag space: 0.711GB
INFO 09-14 16:03:41 worker.py:165] Before appending weights shards, allocated space on GPU: 10.014 GB, reserved space on GPU: 10.725 GB, free space: 9.197GB, frag space: 0.711GB
2895 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2894 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2896 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:03:42 worker.py:168] After recving weights shards, allocated space on GPU: 16.207 GB, reserved space on GPU: 16.496 GB, free space: 3.425GB, frag space: 0.289GB
2897 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.30s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 15.70GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:42 worker.py:152] send weights shards takes: 0.38s, sent out: 6.19GB, sent bw: 16.49GB/s
INFO 09-14 16:03:42 worker.py:171] After appending weights shards, allocated space on GPU: 16.208 GB, reserved space on GPU: 16.486 GB, free space: 3.435GB, frag space: 0.279GB
INFO 09-14 16:03:42 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.208 GB, reserved space on GPU: 16.486 GB, free space: 3.435GB, frag space: 0.279GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:42 cache_engine.py:159] send kvc shards takes: 0.11s, sent out: 3.04GB, sent bw: 27.16GB/s
2898 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:42 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 0
INFO 09-14 16:03:42 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 19.224 GB, reserved space on GPU: 19.645 GB, free space: 0.277GB, frag space: 0.420GB
INFO 09-14 16:03:42 llm_engine.py:772] Finished liquid for 29 times, output: Completed! Move shard: [2, 3] from [1] to [0];liquid e2e latency: 0.93s, move and shrink latency: 0.04s, update worker latency: 0.00s, liquid model weights latency: 0.52s, init mem latency: 0.00s, liquid kvc latency: 0.37s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 19.224 GB, reserved space on GPU: 19.645 GB, free space: 0.277GB, frag space: 0.420GB
2899 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2901 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2900 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2902 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2903 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2904 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2906 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2905 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2907 received!
INFO:     127.0.0.1:50308 - "POST /v1/completions HTTP/1.1" 200 OK
2908 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2909 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2910 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2911 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2912 received!
INFO:     127.0.0.1:50304 - "POST /v1/completions HTTP/1.1" 200 OK
2913 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2914 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2915 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2916 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2917 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2918 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2919 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2920 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2921 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2922 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2923 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2924 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2925 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2926 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2927 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2928 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2929 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2930 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2931 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2932 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:53 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:53 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 16:03:53 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 16:03:53 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 16:03:53 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 1 with shard_ids: [2, 3]
INFO 09-14 16:03:53 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 19.248 GB, reserved space on GPU: 19.645 GB, free space: 0.195GB, frag space: 0.397GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:53 worker.py:165] Before appending weights shards, allocated space on GPU: 0.783 GB, reserved space on GPU: 1.256 GB, free space: 18.677GB, frag space: 0.473GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:53 worker.py:168] After recving weights shards, allocated space on GPU: 6.976 GB, reserved space on GPU: 7.074 GB, free space: 12.859GB, frag space: 0.099GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:53 worker.py:171] After appending weights shards, allocated space on GPU: 6.976 GB, reserved space on GPU: 7.439 GB, free space: 12.494GB, frag space: 0.464GB
It takes: 0.21s to send model shards
After sending shards, there are 5.93GB remaining on GPU0
INFO 09-14 16:03:53 worker.py:152] send weights shards takes: 0.25s, sent out: 6.19GB, sent bw: 24.41GB/s
INFO 09-14 16:03:53 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 13.054 GB, reserved space on GPU: 13.914 GB, free space: 5.925GB, frag space: 0.860GB
2933 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2934 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2935 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2936 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2937 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:03:53 cache_engine.py:159] send kvc shards takes: 0.10s, sent out: 3.04GB, sent bw: 31.53GB/s
INFO 09-14 16:03:53 cache_engine.py:165] Successfully send kv cache shards: [2, 3] to rank: 1
INFO 09-14 16:03:53 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 10.036 GB, reserved space on GPU: 10.564 GB, free space: 9.275GB, frag space: 0.528GB
INFO 09-14 16:03:53 multiproc_gpu_executor.py:169] After scale out, num_gpu_blocks: #1551
INFO 09-14 16:03:53 worker.py:205] extend gpu in worker takes: 0.18s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:54 worker.py:205] extend gpu in worker takes: 0.19s
INFO 09-14 16:03:54 llm_engine.py:772] Finished liquid for 30 times, output: Completed! Move shard: [2, 3] from [0] to [1];liquid e2e latency: 0.64s, update worker latency: 0.05s, liquid model weights latency: 0.25s, init mem latency: 0.00s, liquid kvc latency: 0.14s, extending gpu blocks latency: 0.19s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 13.038 GB, reserved space on GPU: 13.852 GB, free space: 5.988GB, frag space: 0.813GB
2938 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2939 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2940 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2941 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2942 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2943 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2944 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2945 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2946 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2947 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2948 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2949 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2950 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2951 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2952 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2953 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2954 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2955 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2956 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2957 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2958 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:03:55 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 16:03:55 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:03:55 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:03:55 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:03:55 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:55 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:03:55 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:55 pynccl.py:65] vLLM is using nccl==2.20.5
2959 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m WARNING 09-14 16:03:55 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
WARNING 09-14 16:03:55 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708772)[0;0m WARNING 09-14 16:03:55 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
[1;36m(VllmWorkerProcess pid=2708771)[0;0m WARNING 09-14 16:03:55 custom_all_reduce.py:170] Custom allreduce is disabled because it's not supported on more than two PCIe-only GPUs. To silence this warning, specify disable_custom_all_reduce=True explicitly.
INFO 09-14 16:03:55 multiproc_gpu_executor.py:257] Start to do liquid from src: 0 to dst: 2 with shard_ids: [1]
INFO 09-14 16:03:55 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 13.030 GB, reserved space on GPU: 13.852 GB, free space: 5.761GB, frag space: 0.821GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:03:55 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 20.638GB, frag space: 0.014GB
2960 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2961 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2962 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:03:55 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.291GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:03:55 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 17.537GB, frag space: 0.019GB
It takes: 0.21s to send model shards
After sending shards, there are 9.00GB remaining on GPU0
INFO 09-14 16:03:55 worker.py:152] send weights shards takes: 0.24s, sent out: 3.10GB, sent bw: 12.98GB/s
INFO 09-14 16:03:55 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 9.934 GB, reserved space on GPU: 10.615 GB, free space: 8.998GB, frag space: 0.681GB
2963 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2964 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2965 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:03:56 cache_engine.py:159] send kvc shards takes: 0.18s, sent out: 3.03GB, sent bw: 16.51GB/s
INFO 09-14 16:03:56 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 2
INFO 09-14 16:03:56 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 6.901 GB, reserved space on GPU: 7.520 GB, free space: 12.093GB, frag space: 0.619GB
INFO 09-14 16:03:56 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 3 with shard_ids: [3]
INFO 09-14 16:03:56 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 6.901 GB, reserved space on GPU: 7.520 GB, free space: 12.093GB, frag space: 0.619GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:03:56 worker.py:165] Before appending weights shards, allocated space on GPU: 0.525 GB, reserved space on GPU: 0.539 GB, free space: 20.638GB, frag space: 0.014GB
2966 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2969 received!
INFO:     127.0.0.1:50306 - "POST /v1/completions HTTP/1.1" 200 OK
2967 received!
INFO:     127.0.0.1:43820 - "POST /v1/completions HTTP/1.1" 200 OK
2968 received!
INFO:     127.0.0.1:43836 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:03:56 worker.py:168] After recving weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.887 GB, free space: 17.291GB, frag space: 0.265GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:03:56 worker.py:171] After appending weights shards, allocated space on GPU: 3.621 GB, reserved space on GPU: 3.641 GB, free space: 17.537GB, frag space: 0.019GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.22s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 9.49GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:56 worker.py:152] send weights shards takes: 0.25s, sent out: 3.10GB, sent bw: 12.39GB/s
INFO 09-14 16:03:56 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 6.901 GB, reserved space on GPU: 7.520 GB, free space: 12.093GB, frag space: 0.619GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:56 cache_engine.py:159] send kvc shards takes: 0.17s, sent out: 3.03GB, sent bw: 17.35GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:56 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 3
INFO 09-14 16:03:56 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 6.901 GB, reserved space on GPU: 7.520 GB, free space: 12.093GB, frag space: 0.619GB
INFO 09-14 16:03:56 multiproc_gpu_executor.py:186] After scale out, num_gpu_blocks: #5712
INFO 09-14 16:03:56 worker.py:205] extend gpu in worker takes: 0.20s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:03:56 worker.py:205] extend gpu in worker takes: 0.20s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:03:56 worker.py:205] extend gpu in worker takes: 0.20s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:03:56 worker.py:205] extend gpu in worker takes: 0.21s
INFO 09-14 16:03:56 llm_engine.py:772] Finished liquid for 31 times, output: Completed! Move shard: [1, 3] from [0, 1] to [2, 3];liquid e2e latency: 1.32s, update worker latency: 0.64s, liquid model weights latency: 0.25s, init mem latency: 0.00s, liquid kvc latency: 0.21s, extending gpu blocks latency: 0.21s, update blocks latency: 0.01s;, current mem info on GPU0: allocated space on GPU: 15.059 GB, reserved space on GPU: 15.740 GB, free space: 3.873GB, frag space: 0.681GB
2970 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2971 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2972 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2973 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2974 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2975 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2976 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2977 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2978 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2979 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2981 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
2980 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2982 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2983 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2984 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:04:27 utils.py:623] Found nccl from library libnccl.so.2
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:04:27 utils.py:623] Found nccl from library libnccl.so.2
INFO 09-14 16:04:27 pynccl.py:65] vLLM is using nccl==2.20.5
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:04:27 pynccl.py:65] vLLM is using nccl==2.20.5
INFO 09-14 16:04:27 multiproc_gpu_executor.py:237] Shrink to: #1551, currently using blocks: #19
INFO 09-14 16:04:27 multiproc_gpu_executor.py:238] Before move and shrink: allocated space on GPU: 15.082 GB, reserved space on GPU: 15.740 GB, free space: 3.795GB, frag space: 0.658GB
INFO 09-14 16:04:27 multiproc_gpu_executor.py:240] After move and shrink: allocated space on GPU: 6.924 GB, reserved space on GPU: 7.520 GB, free space: 12.015GB, frag space: 0.595GB
INFO 09-14 16:04:27 multiproc_gpu_executor.py:257] Start to do liquid from src: 2 to dst: 0 with shard_ids: [1]
INFO 09-14 16:04:27 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 6.924 GB, reserved space on GPU: 7.520 GB, free space: 12.015GB, frag space: 0.595GB
INFO 09-14 16:04:27 worker.py:165] Before appending weights shards, allocated space on GPU: 6.924 GB, reserved space on GPU: 7.520 GB, free space: 12.015GB, frag space: 0.595GB
INFO 09-14 16:04:28 worker.py:168] After recving weights shards, allocated space on GPU: 10.021 GB, reserved space on GPU: 10.402 GB, free space: 9.132GB, frag space: 0.382GB
2985 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m It takes: 0.33s to send model shards
[1;36m(VllmWorkerProcess pid=2708771)[0;0m After sending shards, there are 17.58GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:04:28 worker.py:152] send weights shards takes: 0.36s, sent out: 3.10GB, sent bw: 8.67GB/s
INFO 09-14 16:04:28 worker.py:171] After appending weights shards, allocated space on GPU: 10.021 GB, reserved space on GPU: 10.803 GB, free space: 8.732GB, frag space: 0.782GB
INFO 09-14 16:04:28 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 10.021 GB, reserved space on GPU: 10.803 GB, free space: 8.732GB, frag space: 0.782GB
2986 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:04:28 cache_engine.py:159] send kvc shards takes: 0.22s, sent out: 3.03GB, sent bw: 13.95GB/s
[1;36m(VllmWorkerProcess pid=2708771)[0;0m INFO 09-14 16:04:28 cache_engine.py:165] Successfully send kv cache shards: [1] to rank: 0
INFO 09-14 16:04:28 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 13.054 GB, reserved space on GPU: 13.898 GB, free space: 5.636GB, frag space: 0.845GB
INFO 09-14 16:04:28 multiproc_gpu_executor.py:257] Start to do liquid from src: 3 to dst: 1 with shard_ids: [3]
INFO 09-14 16:04:28 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 13.054 GB, reserved space on GPU: 13.898 GB, free space: 5.636GB, frag space: 0.845GB
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:04:28 worker.py:165] Before appending weights shards, allocated space on GPU: 6.924 GB, reserved space on GPU: 7.213 GB, free space: 12.416GB, frag space: 0.289GB
2987 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:04:28 worker.py:168] After recving weights shards, allocated space on GPU: 10.021 GB, reserved space on GPU: 10.373 GB, free space: 9.255GB, frag space: 0.352GB
[1;36m(VllmWorkerProcess pid=2708772)[0;0m It takes: 0.24s to send model shards
[1;36m(VllmWorkerProcess pid=2708772)[0;0m After sending shards, there are 17.58GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:04:28 worker.py:152] send weights shards takes: 0.27s, sent out: 3.10GB, sent bw: 11.57GB/s
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:04:28 worker.py:171] After appending weights shards, allocated space on GPU: 10.021 GB, reserved space on GPU: 10.395 GB, free space: 9.234GB, frag space: 0.374GB
INFO 09-14 16:04:28 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 13.054 GB, reserved space on GPU: 13.898 GB, free space: 5.636GB, frag space: 0.845GB
2988 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:04:28 cache_engine.py:159] send kvc shards takes: 0.21s, sent out: 3.03GB, sent bw: 14.43GB/s
[1;36m(VllmWorkerProcess pid=2708772)[0;0m INFO 09-14 16:04:28 cache_engine.py:165] Successfully send kv cache shards: [3] to rank: 1
INFO 09-14 16:04:28 multiproc_gpu_executor.py:284] After liquid kvc, allocated space on GPU: 13.054 GB, reserved space on GPU: 13.898 GB, free space: 5.636GB, frag space: 0.845GB
INFO 09-14 16:04:28 llm_engine.py:772] Finished liquid for 32 times, output: Completed! Move shard: [1, 3] from [2, 3] to [0, 1];liquid e2e latency: 1.27s, move and shrink latency: -1726326267.55s, update worker latency: 1726326268.31s, liquid model weights latency: 0.27s, init mem latency: 0.00s, liquid kvc latency: 0.24s, update blocks latency: 0.00s;, current mem info on GPU0: allocated space on GPU: 13.054 GB, reserved space on GPU: 13.898 GB, free space: 5.636GB, frag space: 0.845GB
2989 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2990 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2991 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2992 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2993 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2994 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2995 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2996 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2997 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2999 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
2998 received!
INFO:     127.0.0.1:44334 - "POST /v1/completions HTTP/1.1" 200 OK
3000 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3001 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3002 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3003 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3004 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3005 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3006 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3007 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3008 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3009 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3010 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3011 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3012 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3013 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3014 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3015 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3016 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3017 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3018 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3019 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3020 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3021 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3022 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3023 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3024 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3025 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3026 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3027 received!
INFO:     127.0.0.1:58322 - "POST /v1/completions HTTP/1.1" 200 OK
3029 received!
INFO:     127.0.0.1:58322 - "POST /v1/completions HTTP/1.1" 200 OK
3028 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3030 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3031 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3032 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3033 received!
INFO:     127.0.0.1:44344 - "POST /v1/completions HTTP/1.1" 200 OK
3034 received!
INFO:     127.0.0.1:55272 - "POST /v1/completions HTTP/1.1" 200 OK
3036 received!
INFO:     127.0.0.1:55284 - "POST /v1/completions HTTP/1.1" 200 OK
3035 received!
INFO:     127.0.0.1:55292 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:05:20 multiproc_gpu_executor.py:212] Shrink to: #778, currently using blocks: #8
INFO 09-14 16:05:20 multiproc_gpu_executor.py:213] Before move and shrink: allocated space on GPU: 13.046 GB, reserved space on GPU: 13.898 GB, free space: 5.636GB, frag space: 0.852GB
INFO 09-14 16:05:20 multiproc_gpu_executor.py:215] After move and shrink: allocated space on GPU: 10.045 GB, reserved space on GPU: 10.803 GB, free space: 8.732GB, frag space: 0.757GB
INFO 09-14 16:05:20 multiproc_gpu_executor.py:257] Start to do liquid from src: 1 to dst: 0 with shard_ids: [2, 3]
INFO 09-14 16:05:20 multiproc_gpu_executor.py:269] Before liquid model weights, allocated space on GPU: 10.045 GB, reserved space on GPU: 10.803 GB, free space: 8.732GB, frag space: 0.757GB
INFO 09-14 16:05:20 worker.py:165] Before appending weights shards, allocated space on GPU: 10.045 GB, reserved space on GPU: 10.803 GB, free space: 8.732GB, frag space: 0.757GB
3037 received!
INFO:     127.0.0.1:55284 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:05:20 worker.py:168] After recving weights shards, allocated space on GPU: 16.238 GB, reserved space on GPU: 16.480 GB, free space: 3.054GB, frag space: 0.242GB
3038 received!
INFO:     127.0.0.1:55284 - "POST /v1/completions HTTP/1.1" 200 OK
3039 received!
INFO:     127.0.0.1:55284 - "POST /v1/completions HTTP/1.1" 200 OK
[1;36m(VllmWorkerProcess pid=2708770)[0;0m It takes: 0.29s to send model shards
[1;36m(VllmWorkerProcess pid=2708770)[0;0m After sending shards, there are 15.17GB remaining on GPU0
[1;36m(VllmWorkerProcess pid=2708770)[0;0m INFO 09-14 16:05:20 worker.py:152] send weights shards takes: 0.36s, sent out: 6.19GB, sent bw: 17.07GB/s
3040 received!
INFO:     127.0.0.1:55284 - "POST /v1/completions HTTP/1.1" 200 OK
INFO 09-14 16:05:21 worker.py:171] After appending weights shards, allocated space on GPU: 16.239 GB, reserved space on GPU: 16.619 GB, free space: 2.916GB, frag space: 0.380GB
INFO 09-14 16:05:21 multiproc_gpu_executor.py:274] After liquid model weights, allocated space on GPU: 16.239 GB, reserved space on GPU: 16.619 GB, free space: 2.916GB, frag space: 0.380GB
3041 received!
INFO:     127.0.0.1:55284 - "POST /v1/completions HTTP/1.1" 200 OK
3042 received!
INFO:     127.0.0.1:55272 - "POST /v1/completions HTTP/1.1" 200 OK
3043 received!
INFO:     127.0.0.1:55298 - "POST /v1/completions HTTP/1.1" 200 OK
ERROR 09-14 16:05:21 llm_engine.py:775] Failed to perform liquid! error: CUDA out of memory. Tried to allocate 98.00 MiB. GPU , memory status: allocated space on GPU: 19.110 GB, reserved space on GPU: 19.490 GB, free space: 0.045GB, frag space: 0.380GB
Error: CUDA out of memory. Tried to allocate 98.00 MiB. GPU , stack trace: Traceback (most recent call last):
  File "/home/lrq/proj/vllm/vllm/engine/llm_engine.py", line 771, in check_liquid_request_and_complete
    liquid_output = self._do_liquid(liquid_request)
  File "/home/lrq/proj/vllm/vllm/engine/llm_engine.py", line 760, in _do_liquid
    liquid_output = self.model_executor.do_liquid(liquid_request, block_ids)
  File "/home/lrq/proj/vllm/vllm/executor/multiproc_gpu_executor.py", line 218, in do_liquid
    self.data_transmission(src, dst, moved_shard_ids, liquid_output)
  File "/home/lrq/proj/vllm/vllm/executor/multiproc_gpu_executor.py", line 281, in data_transmission
    self._run_workers("liquid_kv_cache", shard_ids=shard_ids, src=src, dst=dst, load_kv_cache = load_kv_cache, worker_ranks=[src, dst])
  File "/home/lrq/proj/vllm/vllm/executor/multiproc_gpu_executor.py", line 380, in _run_workers
    driver_worker_output = driver_worker_method(*args, **kwargs)
  File "/home/lrq/proj/vllm/vllm/worker/worker.py", line 219, in liquid_kv_cache
    shards_cache = self.cache_engine.recv_shards(shard_ids, src)
  File "/home/lrq/proj/vllm/vllm/worker/cache_engine.py", line 171, in recv_shards
    shards_cache = liquid_comm.recv_dict(src, tensor_names)
  File "/home/lrq/proj/vllm/vllm/liquid/liquid_communicator.py", line 141, in recv_dict
    tensor_dict[key] = torch.empty(meta_data.length, dtype=self.dtype, device='cuda')
torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 98.00 MiB. GPU 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lrq/proj/vllm/liquid_server.py", line 74, in start
    self.llm._run_engine(use_tqdm=False)
  File "/home/lrq/proj/vllm/vllm/entrypoints/llm.py", line 559, in _run_engine
    step_outputs = self.llm_engine.step()
  File "/home/lrq/proj/vllm/vllm/engine/llm_engine.py", line 839, in step
    self.check_liquid_request_and_complete()
  File "/home/lrq/proj/vllm/vllm/engine/llm_engine.py", line 776, in check_liquid_request_and_complete
    raise Exception(e)
Exception: CUDA out of memory. Tried to allocate 98.00 MiB. GPU 

loadgen process terminated!
ERROR 09-14 16:05:21 multiproc_worker_utils.py:120] Worker VllmWorkerProcess pid 2708772 died, exit code: -15
INFO 09-14 16:05:21 multiproc_worker_utils.py:123] Killing local vLLM worker processes
